{"version":3,"file":"pebula-ngrid-drag.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/ngrid/drag/src/lib/drag-and-drop/core/drop-list-ref.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/core/drag-ref.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/core/drag-drop.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/core/drop-list.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/core/drag.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/core/drag-handle.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/row/row-drop-list-ref.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/row/row-reorder-plugin.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/row/row-drag.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/column/column-drop-list-ref.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/column/column-drag-container.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/column/column-drag.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/column/column-drop-container.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/column/column-reorder-plugin.ts","../../../../libs/ngrid/drag/src/lib/column-resize/cdk-encapsulated-code.ts","../../../../libs/ngrid/drag/src/lib/column-resize/column-resize.component.ts","../../../../libs/ngrid/drag/src/lib/column-resize/column-resize.component.html","../../../../libs/ngrid/drag/src/lib/drag-and-drop/column/extend-grid.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/column/aggregation-column.ts","../../../../libs/ngrid/drag/src/lib/drag-and-drop/column/cell-dragger-ref.ts","../../../../libs/ngrid/drag/src/lib/column-resize/cell-resizer-ref.ts","../../../../libs/ngrid/drag/src/lib/column-resize/extend-grid.ts","../../../../libs/ngrid/drag/src/lib/default-settings.component.ts","../../../../libs/ngrid/drag/src/lib/table-drag.module.ts","../../../../libs/ngrid/drag/src/pebula-ngrid-drag.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { Subject } from 'rxjs';\nimport { ElementRef } from '@angular/core';\nimport { DropListRef } from '@angular/cdk/drag-drop';\nimport { coerceElement } from '@angular/cdk/coercion';\n\nexport class PblDropListRef<T = any> extends DropListRef<T> {\n  /** Emits right before dragging has started. */\n  beforeExit = new Subject<{ item: import('./drag-ref').PblDragRef<T> }>();\n\n  withElement(element: ElementRef<HTMLElement> | HTMLElement): this {\n    // TODO: Workaround, see if we can push this through https://github.com/angular/material2/issues/15086\n    this.element = coerceElement(element);\n    this.withScrollableParents([this.element]);\n    return this;\n  }\n\n  dispose(): void {\n    this.beforeExit.complete();\n    super.dispose();\n  }\n}\n","import { ElementRef, EventEmitter } from '@angular/core';\nimport { coerceElement } from '@angular/cdk/coercion';\nimport { DragRef } from '@angular/cdk/drag-drop';\n\nimport { PblDropListRef } from './drop-list-ref';\n\nexport class PblDragRef<T = any> extends DragRef<T> {\n\n  /**\n   * Fires when the root element changes\n   *\n   * > Does not emit on the initial setup.\n   */\n  rootElementChanged = new EventEmitter<{ prev: HTMLElement; curr: HTMLElement; }>();\n\n  constructor(...args: ConstructorParameters<typeof DragRef>) {\n    super(...args);\n    this.exited.subscribe( e => {\n      const { container } = e;\n      if (container instanceof PblDropListRef) {\n        container.beforeExit.next({ item: this });\n      }\n    });\n  }\n\n  /**\n   * Sets an alternate drag root element. The root element is the element that will be moved as\n   * the user is dragging. Passing an alternate root element is useful when trying to enable\n   * dragging on an element that you might not have access to.\n   */\n  withRootElement(rootElement: ElementRef<HTMLElement> | HTMLElement): this {\n    // the first call to `withRootElement` comes from the base class, before we construct the emitter.\n    // We don't need it anyway...\n    if (this.rootElementChanged) {\n      const element = coerceElement(rootElement);\n      if (this.getRootElement() !== element) {\n        this.rootElementChanged.next({ prev: this.getRootElement(), curr: element })\n      }\n    }\n    return super.withRootElement(rootElement);\n  }\n\n  dispose(): void {\n    this.rootElementChanged.complete();\n    super.dispose();\n  }\n}\n","import { Injectable, Inject, NgZone, ElementRef } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { ViewportRuler} from '@angular/cdk/scrolling';\nimport { DragRef, DragRefConfig, DropListRef, DragDropRegistry } from '@angular/cdk/drag-drop';\n\nimport { PblDragRef } from './drag-ref'\nimport { PblDropListRef } from './drop-list-ref';\n\n/** Default configuration to be used when creating a `DragRef`. */\nconst DEFAULT_CONFIG = {\n  dragStartThreshold: 5,\n  pointerDirectionChangeThreshold: 5\n};\n\n/**\n * Service that allows for drag-and-drop functionality to be attached to DOM elements.\n */\n@Injectable({providedIn: 'root'})\nexport class PblDragDrop {\n  constructor(@Inject(DOCUMENT) protected _document: any,\n              protected _ngZone: NgZone,\n              protected _viewportRuler: ViewportRuler,\n              protected _dragDropRegistry: DragDropRegistry<DragRef, DropListRef>) {}\n\n  /**\n   * Turns an element into a draggable item.\n   * @param element Element to which to attach the dragging functionality.\n   * @param config Object used to configure the dragging behavior.\n   */\n  createDrag<T = any>(element: ElementRef<HTMLElement> | HTMLElement,\n                      config: DragRefConfig = DEFAULT_CONFIG): PblDragRef<T> {\n    return new PblDragRef<T>(element, config, this._document, this._ngZone, this._viewportRuler, this._dragDropRegistry);\n  }\n\n  /**\n   * Turns an element into a drop list.\n   * @param element Element to which to attach the drop list functionality.\n   */\n  createDropList<T = any>(element: ElementRef<HTMLElement> | HTMLElement): PblDropListRef<T> {\n    return new PblDropListRef<T>(element, this._dragDropRegistry, this._document, this._ngZone, this._viewportRuler);\n  }\n}\n","import {\n  Input,\n  Directive,\n  ElementRef,\n  Optional,\n  OnInit,\n  Inject,\n  SkipSelf,\n  ChangeDetectorRef\n} from '@angular/core';\nimport { Direction, Directionality } from '@angular/cdk/bidi';\nimport { ScrollDispatcher } from '@angular/cdk/scrolling';\nimport {\n  DragDrop,\n  CdkDropListGroup,\n  CdkDropList,\n  CdkDrag,\n  CDK_DROP_LIST,\n  CDK_DROP_LIST_GROUP,\n  CDK_DRAG_CONFIG,\n  DragDropConfig,\n} from '@angular/cdk/drag-drop';\nimport { PblNgridComponent, PblNgridExtensionApi, PblNgridPluginController } from '@pebula/ngrid';\n\nimport { PblDropListRef } from './drop-list-ref';\nimport { PblDragDrop } from './drag-drop';\n\n@Directive({\n  selector: '[cdkLazyDropList]', // tslint:disable-line: directive-selector\n  exportAs: 'cdkLazyDropList',\n  providers: [\n    { provide: DragDrop, useExisting: PblDragDrop },\n    { provide: CDK_DROP_LIST, useClass: CdkLazyDropList },\n  ],\n  host: { // tslint:disable-line:no-host-metadata-property\n    'class': 'cdk-drop-list',\n    '[id]': 'id',\n    '[class.cdk-drop-list-dragging]': '_dropListRef.isDragging()',\n    '[class.cdk-drop-list-receiving]': '_dropListRef.isReceiving()',\n  }\n})\nexport class CdkLazyDropList<T = any, DRef = any> extends CdkDropList<T> implements OnInit {\n\n  get pblDropListRef(): PblDropListRef<DRef> { return this._dropListRef as any; }\n\n  get grid(): PblNgridComponent<T> { return this._gridApi?.grid; }\n  set grid(value: PblNgridComponent<T>) { this.updateGrid(value); }\n\n  get dir(): Direction | null { return this._gridApi?.getDirection(); }\n\n  /**\n   * Selector that will be used to determine the direct container element, starting from\n   * the `cdkDropList` element and going down the DOM. Passing an alternate direct container element\n   * is useful when the `cdkDropList` is not the direct parent (i.e. ancestor but not father)\n   * of the draggable elements.\n   */\n  // tslint:disable-next-line:no-input-rename\n  @Input('cdkDropListDirectContainerElement') directContainerElement: string;\n\n  protected get gridApi(): PblNgridExtensionApi<T> { return this._gridApi; }\n  protected readonly originalElement: ElementRef<HTMLElement>;\n  private _gridApi: PblNgridExtensionApi<T>;\n\n  constructor(@Optional() grid: PblNgridComponent<T>,\n              element: ElementRef<HTMLElement>,\n              dragDrop: DragDrop,\n              changeDetectorRef: ChangeDetectorRef,\n              _scrollDispatcher?: ScrollDispatcher,\n              @Optional() dir?: Directionality,\n              @Optional() @Inject(CDK_DROP_LIST_GROUP) @SkipSelf() group?: CdkDropListGroup<CdkDropList>,\n              @Optional() @Inject(CDK_DRAG_CONFIG) config?: DragDropConfig) {\n    super(element, dragDrop, changeDetectorRef, _scrollDispatcher, dir, group, config);\n\n    if (!(this.pblDropListRef instanceof PblDropListRef)) {\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        throw new Error('Invalid `DropListRef` injection, the ref is not an instance of PblDropListRef')\n      }\n      return;\n    }\n\n    // This is a workaround for https://github.com/angular/material2/pull/14153\n    // Working around the missing capability for selecting a container element that is not the drop container host.\n    this.originalElement = element;\n\n    if (grid) {\n      this.updateGrid(grid);\n    }\n\n    this.initDropListRef();\n  }\n\n  ngOnInit(): void {\n    this._dropListRef.beforeStarted.subscribe( () => this.beforeStarted() );\n  }\n\n  addDrag(drag: CdkDrag): void {\n    this.addItem(drag);\n  }\n\n  removeDrag(drag: CdkDrag): void {\n    this.removeItem(drag);\n  }\n\n  /**\n   * A chance for inheriting implementations to change/modify the drop list ref instance\n   *\n   * We can't do this via a DragDrop service replacement as we might have multiple drop-lists on the same\n   * element which mean they must share the same DragDrop factory...\n   */\n  protected initDropListRef(): void { }\n\n  protected beforeStarted(): void {\n    if (this.directContainerElement) {\n      const element = this.originalElement.nativeElement.querySelector(this.directContainerElement) as HTMLElement;\n      this.element = new ElementRef<HTMLElement>(element);\n    } else {\n      this.element = this.originalElement;\n    }\n    this.pblDropListRef.withElement(this.element);\n    if (this.dir) {\n      this.pblDropListRef.withDirection(this.dir);\n    }\n  }\n\n  protected gridChanged(prev?: PblNgridExtensionApi<T>) { }\n\n  private updateGrid(grid: PblNgridComponent<T>) {\n    if (grid !== this.grid) {\n      const prev = this._gridApi;\n      this._gridApi = grid ? PblNgridPluginController.find(grid).extApi : undefined;\n      this.gridChanged(prev);\n    }\n  }\n}\n","import { take } from 'rxjs/operators';\nimport { Input, Directive, OnDestroy, AfterViewInit, OnInit } from '@angular/core';\nimport { DragDrop, CdkDrag } from '@angular/cdk/drag-drop';\n\nimport { PblDragRef } from './drag-ref';\nimport { PblDragDrop } from './drag-drop';\nimport { CdkLazyDropList } from './drop-list';\n\n@Directive({\n  selector: '[cdkLazyDrag]', // tslint:disable-line: directive-selector\n  exportAs: 'cdkLazyDrag',\n  host: { // tslint:disable-line:no-host-metadata-property\n    'class': 'cdk-drag',\n    '[class.cdk-drag-dragging]': '_dragRef.isDragging()',\n  },\n  providers: [\n    { provide: DragDrop, useExisting: PblDragDrop },\n  ],\n})\nexport class CdkLazyDrag<T = any, Z extends CdkLazyDropList<T> = CdkLazyDropList<T>, DRef = any> extends CdkDrag<T> implements OnInit, AfterViewInit, OnDestroy {\n\n  /**\n   * A class to set when the root element is not the host element. (i.e. when `cdkDragRootElement` is used).\n   */\n  @Input('cdkDragRootElementClass') set rootElementSelectorClass(value: string) { // tslint:disable-line:no-input-rename\n    if (value !== this._rootClass && this._hostNotRoot) {\n      if (this._rootClass) {\n        this.getRootElement().classList.remove(...this._rootClass.split(' '));\n      }\n      if (value) {\n        this.getRootElement().classList.add(...value.split(' '));\n      }\n    }\n    this._rootClass = value;\n  }\n\n  get pblDragRef(): PblDragRef<DRef> { return this._dragRef as any; }\n\n  @Input() get cdkDropList(): Z { return this.dropContainer as Z; }\n  set cdkDropList(dropList: Z) {\n    // TO SUPPORT `cdkDropList` via string input (ID) we need a reactive registry...\n    const prev = this.cdkDropList;\n    if (dropList !== prev) {\n      if (prev) {\n        prev.removeDrag(this);\n      }\n      this.dropContainer = dropList;\n      if (dropList) {\n        this._dragRef._withDropContainer(dropList.pblDropListRef);\n        this._dragRef.beforeStarted.subscribe(() => {\n          if (dropList.dir) {\n            this._dragRef.withDirection(dropList.dir);\n          }\n        });\n        dropList.addDrag(this);\n      }\n      this.dropContainerChanged(prev);\n    }\n  }\n\n  private _rootClass: string;\n  private _hostNotRoot = false;\n\n  ngOnInit(): void {\n    if (!(this.pblDragRef instanceof PblDragRef)) {\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        throw new Error('Invalid `DragRef` injection, the ref is not an instance of PblDragRef')\n      }\n      return;\n    }\n    this.pblDragRef.rootElementChanged.subscribe( event => {\n      const rootElementSelectorClass = this._rootClass;\n      const hostNotRoot = this.element.nativeElement !== event.curr;\n\n      if (rootElementSelectorClass) {\n        if (this._hostNotRoot) {\n          event.prev.classList.remove(...rootElementSelectorClass.split(' '));\n        }\n        if (hostNotRoot) {\n          event.curr.classList.add(...rootElementSelectorClass.split(' '));\n        }\n      }\n      this._hostNotRoot = hostNotRoot;\n    });\n  }\n\n  // This is a workaround for https://github.com/angular/material2/pull/14158\n  // Working around the issue of drop container is not the direct parent (father) of a drag item.\n  // The entire ngAfterViewInit() overriding method can be removed if PR accepted.\n  ngAfterViewInit(): void {\n    this.started.subscribe( startedEvent => {\n      if (this.dropContainer) {\n        const element = this.getRootElement();\n        const initialRootElementParent = element.parentNode as HTMLElement;\n        if (!element.nextSibling && initialRootElementParent !== this.dropContainer.element.nativeElement) {\n          this.ended.pipe(take(1)).subscribe( endedEvent => initialRootElementParent.appendChild(element) );\n        }\n      }\n    });\n    super.ngAfterViewInit();\n  }\n\n  ngOnDestroy(): void {\n    this.cdkDropList?.removeDrag(this);\n    super.ngOnDestroy();\n  }\n\n  protected dropContainerChanged(prev: Z) { }\n}\n","import {\n  Directive,\n  ElementRef,\n  Optional,\n  Inject,\n  SkipSelf,\n} from '@angular/core';\nimport { CDK_DRAG_HANDLE, CdkDragHandle, CDK_DRAG_PARENT } from '@angular/cdk/drag-drop';\n\n/** Handle that can be used to drag and CdkDrag instance. */\n@Directive({\n  selector: '[pblDragHandle]',\n  host: { // tslint:disable-line:use-host-property-decorator\n    'class': 'cdk-drag-handle'\n  },\n  providers: [\n    {\n      provide: CDK_DRAG_HANDLE,\n      useExisting: PblDragHandle\n    }\n  ]\n})\nexport class PblDragHandle extends CdkDragHandle {\n  constructor(public element: ElementRef<HTMLElement>,\n              @Inject(CDK_DRAG_PARENT) @Optional() @SkipSelf() parentDrag?: any) { super(element, parentDrag); }\n}\n","import { PblNgridExtensionApi } from '@pebula/ngrid';\nimport { PblDropListRef } from '../core/drop-list-ref';\nimport { PblNgridRowReorderPluginDirective } from './row-reorder-plugin';\nimport { takeUntil } from 'rxjs/operators';\nimport { Type } from '@angular/core';\n\nexport type _PblDropListRef = Omit<PblDropListRef<PblNgridRowReorderPluginDirective<any>>, '_getItemIndexFromPointerPosition' | 'start'> & {\n  start(): void;\n  _getItemIndexFromPointerPosition(item: PblRowDropListRef, pointerX: number, pointerY: number, delta?: {x: number, y: number}): number\n};\n\nexport const _PblDropListRef = () => { return PblDropListRef as any as Type<_PblDropListRef>; };\n\nexport class PblRowDropListRef<T = any> extends _PblDropListRef() {\n\n  gridApi: PblNgridExtensionApi<T>;\n\n  private scrollDif = 0;\n\n  _getItemIndexFromPointerPosition(item: PblRowDropListRef, pointerX: number, pointerY: number, delta?: {x: number, y: number}): number {\n    return super._getItemIndexFromPointerPosition(item, pointerX, pointerY - this.scrollDif, delta);\n  }\n\n  start(): void {\n    super.start();\n    this.scrollDif = 0;\n    if (this.gridApi.grid.viewport.enabled) {\n      const initialTop = this.gridApi.grid.viewport.measureScrollOffset();\n      this.gridApi.grid.viewport.elementScrolled()\n        .pipe(takeUntil(this.dropped))\n        .subscribe(() => {\n          this.scrollDif = this.gridApi.grid.viewport.measureScrollOffset() - initialTop;\n        });\n    }\n  }\n\n}\n\nexport function patchDropListRef<T = any>(dropListRef: PblDropListRef<PblNgridRowReorderPluginDirective<T>>, gridApi: PblNgridExtensionApi<T>) {\n  try {\n    Object.setPrototypeOf(dropListRef, PblRowDropListRef.prototype);\n  } catch (err) {\n    (dropListRef as any)._getItemIndexFromPointerPosition = PblRowDropListRef.prototype._getItemIndexFromPointerPosition;\n    dropListRef.start = PblRowDropListRef.prototype.start;\n  }\n\n  (dropListRef as unknown as PblRowDropListRef).gridApi = gridApi;\n}\n","import { Directive, Input, OnDestroy } from '@angular/core';\nimport { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  DragDrop,\n  CdkDropListGroup,\n  CDK_DROP_LIST,\n  CdkDragDrop,\n} from '@angular/cdk/drag-drop';\n\nimport { PblNgridComponent } from '@pebula/ngrid';\nimport { PblDragDrop, CdkLazyDropList } from '../core/index';\nimport { PblNgridRowDragDirective } from './row-drag';\nimport { patchDropListRef } from './row-drop-list-ref';\n\ndeclare module '@pebula/ngrid/lib/ext/types' {\n  interface PblNgridPluginExtension {\n    rowReorder?: PblNgridRowReorderPluginDirective;\n  }\n}\n\nexport const ROW_REORDER_PLUGIN_KEY: 'rowReorder' = 'rowReorder';\n\nlet _uniqueIdCounter = 0;\n\n@Directive({\n  selector: 'pbl-ngrid[rowReorder]', // tslint:disable-line: directive-selector\n  exportAs: 'pblNgridRowReorder',\n  host: { // tslint:disable-line:no-host-metadata-property\n    'class': 'cdk-drop-list',\n    '[id]': 'id',\n    '[class.cdk-drop-list-dragging]': '_dropListRef.isDragging()',\n    '[class.cdk-drop-list-receiving]': '_dropListRef.isReceiving()',\n    '[class.pbl-row-reorder]': 'rowReorder && !this.grid.ds?.sort.sort?.order && !this.grid.ds?.filter?.filter',\n  },\n  providers: [\n    { provide: DragDrop, useExisting: PblDragDrop },\n    { provide: CdkDropListGroup, useValue: undefined },\n    { provide: CDK_DROP_LIST, useExisting: PblNgridRowReorderPluginDirective },\n  ],\n})\nexport class PblNgridRowReorderPluginDirective<T = any> extends CdkLazyDropList<T, PblNgridRowReorderPluginDirective<T>> implements OnDestroy {\n\n  id = `pbl-ngrid-row-reorder-list-${_uniqueIdCounter++}`;\n\n  @Input() get rowReorder(): boolean { return this._rowReorder; };\n  set rowReorder(value: boolean) {\n    value = coerceBooleanProperty(value);\n    this._rowReorder = value;\n  }\n\n  private _rowReorder = false;\n  private _removePlugin: (grid: PblNgridComponent<any>) => void;\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    this._removePlugin(this.grid);\n  }\n\n  getSortedItems() {\n    const { rowsApi } = this.gridApi;\n    // The CdkTable has a view repeater that cache view's for performance (only when virtual scroll enabled)\n    // A cached view is not showing but still \"living\" so it's CdkDrag element is still up in the air\n    // We need to filter them out\n    // An alternative will be to catch the events of the rows attached/detached and add/remove them from the drop list.\n    return (super.getSortedItems() as PblNgridRowDragDirective[]).filter( item => {\n      return rowsApi.findRowByElement(item.getRootElement())?.attached;\n    });\n  }\n\n  protected initDropListRef(): void {\n    patchDropListRef(this.pblDropListRef as any, this.gridApi);\n  }\n\n  protected gridChanged() {\n    this._removePlugin = this.gridApi.pluginCtrl.setPlugin(ROW_REORDER_PLUGIN_KEY, this);\n    this.directContainerElement = '.pbl-ngrid-scroll-container';\n\n    this.dropped.subscribe( (event: CdkDragDrop<T>) => {\n      const item = event.item as PblNgridRowDragDirective<T>;\n\n      const previousIndex = this.grid.ds.source.indexOf(item.draggedContext.row);\n      const currentIndex = event.currentIndex + this.grid.ds.renderStart;\n      this.grid.ds.moveItem(previousIndex, currentIndex, true);\n      this.grid.rowsApi.syncRows('data');\n    });\n  }\n\n  static ngAcceptInputType_rowReorder: BooleanInput;\n}\n","import { Directive, Input, OnInit } from '@angular/core';\nimport { DragDrop, CdkDragStart, CDK_DRAG_PARENT } from '@angular/cdk/drag-drop';\n\nimport { PblNgridPluginController, PblNgridCellContext } from '@pebula/ngrid';\nimport { PblDragDrop, CdkLazyDrag } from '../core/index';\nimport { PblNgridRowReorderPluginDirective, ROW_REORDER_PLUGIN_KEY } from './row-reorder-plugin';\n\n@Directive({\n  selector: '[pblNgridRowDrag]',\n  exportAs: 'pblNgridRowDrag',\n  host: { // tslint:disable-line:no-host-metadata-property\n    'class': 'cdk-drag',\n    '[class.cdk-drag-dragging]': '_dragRef.isDragging()',\n  },\n  providers: [\n    { provide: DragDrop, useExisting: PblDragDrop },\n    { provide: CDK_DRAG_PARENT, useExisting: PblNgridRowDragDirective },\n  ]\n})\nexport class PblNgridRowDragDirective<T = any> extends CdkLazyDrag<T, PblNgridRowReorderPluginDirective<T>> implements OnInit {\n  rootElementSelector = 'pbl-ngrid-row';\n\n  get context(): PblNgridCellContext<T> {\n    return this._context;\n  }\n\n  @Input('pblNgridRowDrag') set context(value: PblNgridCellContext<T>) {\n    this._context = value;\n\n    const pluginCtrl = this.pluginCtrl = value && PblNgridPluginController.find(value.grid);\n    const plugin = pluginCtrl?.getPlugin(ROW_REORDER_PLUGIN_KEY);\n    this.cdkDropList = plugin || undefined;\n  }\n\n  /**\n   * Reference to the last dragged context.\n   *\n   * This context is not similar to the `context` property.\n   * The `context` property holds the current context which is shared and updated on scroll so if a user start a drag and then scrolled\n   * the context will point to the row in view and not the original cell.\n   */\n  get draggedContext(): Pick<PblNgridCellContext<T>, 'col' | 'grid'> & Partial<Pick<PblNgridCellContext<T>, 'row' | 'value'>> {\n    return this._draggedContext;\n  }\n\n  private _context: PblNgridCellContext<T>;\n  private _draggedContext: Pick<PblNgridCellContext<T>, 'col' | 'grid'> & Partial<Pick<PblNgridCellContext<T>, 'row' | 'value'>>;\n\n  private pluginCtrl: PblNgridPluginController;\n\n  ngOnInit(): void {\n    this.started.subscribe( (event: CdkDragStart) => {\n      const { col, row, grid, value }  = this._context;\n      this._draggedContext = { col, row, grid, value };\n    });\n    super.ngOnInit();\n  }\n}\n","import { PblDropListRef } from '../core/drop-list-ref';\nimport { PblDragRef } from '../core/drag-ref';\nimport { PblNgridColumnReorderPluginDirective } from './column-reorder-plugin';\nimport { PblNgridColumnDragDirective } from './column-drag';\n\nexport class PblColumnDropListRef<T = any> extends PblDropListRef<PblNgridColumnReorderPluginDirective<T>> {\n\n  private lastSwap: PblDragRef<PblNgridColumnDragDirective<T>>;\n\n  _sortPredicate(newIndex: number, drag: PblDragRef<PblNgridColumnDragDirective<T>>, drop: PblColumnDropListRef<T>) {\n    const siblings: PblDragRef<PblNgridColumnDragDirective<T>>[] = this.data.getSortedItems().map( c => c._dragRef) as any;\n\n    const dragAtNewPosition = siblings[newIndex];\n    if (dragAtNewPosition.data.column.wontBudge) {\n      return false;\n    }\n\n    // we now need to find if between current and new position there are items with `wontBudge`\n    const itemAtOriginalPosition = this.lastSwap ? this.lastSwap : drag;\n    const currentIndex = siblings.findIndex( currentItem => currentItem === itemAtOriginalPosition );\n    const start = Math.min(newIndex, currentIndex)\n    const itemsDraggedOver = siblings.slice(start, Math.abs(newIndex - currentIndex) + start);\n    for (const dragItem of itemsDraggedOver) {\n      if (dragItem.data.column.wontBudge && dragItem !== drag) {\n        return false;\n      }\n    }\n\n    if (!drag.data.column.checkGroupLockConstraint(dragAtNewPosition.data.column)) {\n      return false;\n    }\n\n    this.lastSwap = dragAtNewPosition;\n    return true;\n  }\n\n  _sortItem(item: PblDragRef, pointerX: number, pointerY: number, pointerDelta: {x: number, y: number}) {\n    const lastSwap = this.lastSwap;\n    this.sortPredicate = (index, drag) => this._sortPredicate(index, drag as any, this);\n    super._sortItem(item, pointerX, pointerY, pointerDelta);\n\n    if (this.lastSwap && this.lastSwap !== lastSwap && this.data.orientation === 'horizontal') {\n      const siblings: PblDragRef<PblNgridColumnDragDirective<T>>[] = this.data.getSortedItems().map( c => c._dragRef) as any;\n      siblings.forEach((sibling, index) => {\n        // Don't do anything if the position hasn't changed.\n        // if (oldOrder[index] === sibling) {\n        //   return;\n        // }\n        const transform = sibling.getVisibleElement().style.transform\n        for (const c of sibling.data.getCells()) {\n          c.style.transform = transform;\n        }\n      });\n    }\n  }\n}\n\nexport function patchDropListRef<T = any>(dropListRef: PblDropListRef<PblNgridColumnReorderPluginDirective<T>>) {\n  try {\n    Object.setPrototypeOf(dropListRef, PblColumnDropListRef.prototype);\n  } catch (err) {\n    (dropListRef as any)._sortPredicate = PblColumnDropListRef.prototype._sortPredicate;\n    dropListRef._sortItem = PblColumnDropListRef.prototype._sortItem;\n  }\n}\n","// tslint:disable:no-output-rename\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { Directive, Input, Output } from '@angular/core';\nimport { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { DragDrop, CDK_DROP_LIST, CdkDropList } from '@angular/cdk/drag-drop';\n\nimport { COLUMN, PblNgridComponent } from '@pebula/ngrid';\nimport { CdkLazyDropList, PblDragDrop } from '../core/index';\nimport { patchDropListRef } from './column-drop-list-ref';\n\ndeclare module '@pebula/ngrid/lib/ext/types' {\n  interface PblNgridPluginExtension {\n    columnDrag?: PblNgridColumnDragContainerDirective;\n  }\n}\n\nexport const COL_DRAG_CONTAINER_PLUGIN_KEY: 'columnDrag' = 'columnDrag';\n\nlet _uniqueIdCounter = 0;\n\n@Directive({\n  selector: 'pbl-ngrid[columnDrag]:not([columnReorder])',\n  exportAs: 'pblNgridColumnDragContainer',\n  host: { // tslint:disable-line:use-host-property-decorator\n    'class': 'cdk-drop-list',\n    '[id]': 'id',\n    '[class.cdk-drop-list-dragging]': '_dropListRef.isDragging()',\n    '[class.cdk-drop-list-receiving]': '_dropListRef.isReceiving()',\n  },\n  providers: [\n    { provide: DragDrop, useExisting: PblDragDrop },\n    { provide: CDK_DROP_LIST, useExisting: PblNgridColumnDragContainerDirective },\n  ],\n})\nexport class PblNgridColumnDragContainerDirective<T = any> extends CdkLazyDropList<T, PblNgridColumnDragContainerDirective<T>> {\n  id = `pbl-ngrid-column-drag-container-list-${_uniqueIdCounter++}`;\n  orientation: 'horizontal' | 'vertical' = 'horizontal';\n\n  @Input() get columnDrag(): boolean { return this._columnDrag; };\n  set columnDrag(value: boolean) {\n    this._columnDrag = coerceBooleanProperty(value);\n  }\n\n  @Output('cdkDropDragging') dragging: BehaviorSubject<boolean>;\n\n  @Output('cdkDropConnectionsChanged') connectionsChanged: Subject<void>;\n\n\n  private _columnDrag = false;\n  private _removePlugin: (table: PblNgridComponent<any>) => void;\n\n  private connections = new Set<CdkDropList>();\n\n  hasConnections() {\n    return this.connections.size > 0;\n  }\n\n  canDrag(column: COLUMN): boolean {\n    return this.connections.size > 0;\n  }\n\n  connectTo(dropList: CdkDropList) {\n    if (!this.connections.has(dropList)) {\n      this.connections.add(dropList);\n      this.connectedTo = Array.from(this.connections);\n      this.connectionsChanged.next();\n    }\n  }\n\n  disconnectFrom(dropList: CdkDropList) {\n    if (this.connections.delete(dropList)) {\n      this.connectedTo = Array.from(this.connections);\n      this.connectionsChanged.next();\n    }\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    this.connectionsChanged.complete();\n    this.dragging.complete();\n    this._removePlugin(this.grid);\n  }\n\n  protected initDropListRef(): void {\n    patchDropListRef(this.pblDropListRef as any);\n  }\n\n  protected beforeStarted(): void {\n    super.beforeStarted();\n    this.dragging.next(true);\n  }\n\n  protected gridChanged() {\n    this.dragging = new BehaviorSubject<boolean>(false);\n    this.connectionsChanged = new Subject<void>();\n\n    this._removePlugin = this.gridApi.pluginCtrl.setPlugin(COL_DRAG_CONTAINER_PLUGIN_KEY, this);\n\n    this.directContainerElement = '.pbl-ngrid-header-row-main';\n\n    this.dragging.subscribe( isDragging => {\n      const el = this.originalElement.nativeElement;\n      if (isDragging) {\n        el.classList.add('pbl-ngrid-column-list-dragging');\n      } else {\n        el.classList.remove('pbl-ngrid-column-list-dragging');\n      }\n    });\n\n    this.sortingDisabled = true;\n  }\n\n  static ngAcceptInputType_columnDrag: BooleanInput;\n}\n","import { Directive, Input } from '@angular/core';\nimport { DragDrop, CDK_DRAG_PARENT } from '@angular/cdk/drag-drop';\n\nimport { unrx } from '@pebula/ngrid/core';\nimport { PblColumn, PblNgridPluginController } from '@pebula/ngrid';\nimport { PblDragDrop, CdkLazyDrag } from '../core/index';\nimport { COL_DRAG_CONTAINER_PLUGIN_KEY, PblNgridColumnDragContainerDirective } from './column-drag-container';\n\n@Directive({\n  selector: '[pblNgridColumnDrag]',\n  exportAs: 'pblNgridColumnDrag',\n  host: { // tslint:disable-line:no-host-metadata-property\n    'class': 'cdk-drag',\n    '[class.cdk-drag-dragging]': '_dragRef.isDragging()',\n  },\n  providers: [\n    { provide: DragDrop, useExisting: PblDragDrop },\n    { provide: CDK_DRAG_PARENT, useExisting: PblNgridColumnDragDirective }\n  ]\n})\nexport class PblNgridColumnDragDirective<T = any> extends CdkLazyDrag<T, PblNgridColumnDragContainerDirective<T>, PblNgridColumnDragDirective<T>> {\n  rootElementSelector = 'pbl-ngrid-header-cell';\n\n  @Input('pblNgridColumnDrag') get column(): PblColumn { return this._column; }\n  set column(value: PblColumn) {\n    if (value !== this._column) {\n      this._column = value;\n      this.updateDisabledState();\n    }\n  }\n\n  private _column: PblColumn;\n  private cache: HTMLElement[];\n\n  ngAfterViewInit(): void {\n    if (!this.cdkDropList) {\n      this.cdkDropList = PblNgridPluginController.findPlugin(this.column.columnDef.grid, COL_DRAG_CONTAINER_PLUGIN_KEY);\n    }\n\n    super.ngAfterViewInit();\n\n    this._dragRef.beforeStarted.subscribe( () => {\n      const { cdkDropList } = this;\n      if (cdkDropList?.canDrag(this.column)) {\n        // we don't allow a new dragging session before the previous ends.\n        // this sound impossible, but due to animation transitions its actually is.\n        // if the `transitionend` is long enough, a new drag can start...\n        //\n        // the `disabled` state is checked by pointerDown AFTER calling before start so we can cancel the start...\n        if (cdkDropList._dropListRef.isDragging()) {\n          return this.disabled = true;\n        }\n      }\n    });\n\n    this.started.subscribe( () => {\n      if (this._column.columnDef) {\n        this.column.columnDef.isDragging = true;\n      }\n    });\n    this.ended.subscribe( () => {\n      if (this._column.columnDef) {\n        this.column.columnDef.isDragging = false;\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    unrx.kill(this);\n    super.ngOnDestroy();\n  }\n\n  getCells(): HTMLElement[] {\n    if (!this.cache) {\n      this.cache = this.column.columnDef.queryCellElements('table');\n    }\n    return this.cache;\n  }\n\n  reset(): void {\n    super.reset();\n    if (this.cache) {\n      for (const el of this.cache) {\n        el.style.transform = ``;\n      }\n      this.cache = undefined;\n    }\n  }\n\n  protected dropContainerChanged(prev: PblNgridColumnDragContainerDirective<T>) {\n    if (prev) {\n      unrx.kill(this, prev);\n    }\n\n    this.updateDisabledState();\n\n    this.updateBoundaryElement();\n    if (this.cdkDropList) {\n      this.cdkDropList.connectionsChanged\n        .pipe(unrx(this, this.cdkDropList))\n        .subscribe(() => this.updateBoundaryElement());\n    }\n  }\n\n  private updateDisabledState() {\n    this.disabled = this.column && this.cdkDropList ? !this.cdkDropList.canDrag(this.column) : true;\n  }\n\n  private updateBoundaryElement() {\n    if (this.cdkDropList?.hasConnections()) {\n      this.boundaryElement = undefined;\n    } else {\n      this.boundaryElement = this.cdkDropList.directContainerElement;\n    }\n  }\n}\n","// tslint:disable:no-output-rename\nimport { Directive, EventEmitter, Output } from '@angular/core';\nimport { DragDrop, CDK_DROP_LIST, CDK_DROP_LIST_GROUP } from '@angular/cdk/drag-drop';\nimport { COLUMN } from '@pebula/ngrid';\nimport { CdkLazyDropList, PblDragDrop } from '../core/index';\nimport { COL_DRAG_CONTAINER_PLUGIN_KEY, PblNgridColumnDragContainerDirective } from './column-drag-container';\nimport { PblColumnDragDropContainerDrop, PblColumnDragDropContainerEnter, PblColumnDragDropContainerExit } from './column-drop-container.events';\n\nlet _uniqueIdCounter = 0;\n\n@Directive({\n  selector: '[pblColumnDropContainer]',\n  exportAs: 'pblColumnDropContainer',\n  inputs: ['grid: pblColumnDropContainer'],\n  host: { // tslint:disable-line:use-host-property-decorator\n    'class': 'cdk-drop-list',\n    '[id]': 'id',\n  },\n  providers: [\n    { provide: DragDrop, useExisting: PblDragDrop },\n    { provide: CDK_DROP_LIST_GROUP, useValue: undefined },\n    { provide: CDK_DROP_LIST, useExisting: PblNgridColumnDropContainerDirective },\n  ],\n})\nexport class PblNgridColumnDropContainerDirective<T = any> extends CdkLazyDropList<T> {\n  id = `pbl-ngrid-column-drop-container-${_uniqueIdCounter++}`;\n  orientation: 'horizontal' | 'vertical' = 'horizontal';\n\n  @Output() columnEntered: EventEmitter<PblColumnDragDropContainerEnter<T>> = this.entered as any;\n  @Output() columnExited: EventEmitter<PblColumnDragDropContainerExit<T>> = this.exited as any;\n  @Output() columnDropped: EventEmitter<PblColumnDragDropContainerDrop<T>> = this.dropped as any;\n\n  get columnContainer(): PblNgridColumnDragContainerDirective { return this._columnContainer; }\n  private _columnContainer: PblNgridColumnDragContainerDirective;\n\n  canDrag(column: COLUMN): boolean {\n    return true;\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    if (this._columnContainer) {\n      this._columnContainer.disconnectFrom(this);\n    }\n  }\n\n  protected gridChanged() {\n    const columnContainer = this.gridApi?.pluginCtrl.getPlugin(COL_DRAG_CONTAINER_PLUGIN_KEY)\n    if (columnContainer !== this._columnContainer) {\n      if (this._columnContainer) {\n        this._columnContainer.disconnectFrom(this);\n      }\n      this._columnContainer = columnContainer;\n      if (columnContainer) {\n        columnContainer.connectTo(this);\n      }\n    }\n  }\n\n}\n","// tslint:disable:no-output-rename\nimport { Directive, Input, OnInit } from '@angular/core';\nimport { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { DragDrop, CdkDragDrop, CDK_DROP_LIST } from '@angular/cdk/drag-drop';\n\nimport { PblColumn, COLUMN } from '@pebula/ngrid';\nimport { PblDragDrop, PblDragRef } from '../core/index';\nimport { PblNgridColumnDragDirective } from './column-drag';\nimport { PblNgridColumnDragContainerDirective } from './column-drag-container';\n\ndeclare module '@pebula/ngrid/lib/ext/types' {\n  interface PblNgridPluginExtension {\n    columnReorder?: PblNgridColumnReorderPluginDirective;\n  }\n}\n\nexport const COL_REORDER_PLUGIN_KEY: 'columnReorder' = 'columnReorder';\n\n@Directive({\n  selector: 'pbl-ngrid[columnReorder]', // tslint:disable-line: directive-selector\n  exportAs: 'pblNgridColumnReorder',\n  host: { // tslint:disable-line:no-host-metadata-property\n    'class': 'cdk-drop-list',\n    '[id]': 'id',\n    '[class.cdk-drop-list-dragging]': '_dropListRef.isDragging()',\n    '[class.cdk-drop-list-receiving]': '_dropListRef.isReceiving()',\n  },\n  providers: [\n    { provide: DragDrop, useExisting: PblDragDrop },\n    { provide: CDK_DROP_LIST, useExisting: PblNgridColumnReorderPluginDirective },\n  ],\n})\nexport class PblNgridColumnReorderPluginDirective<T = any> extends PblNgridColumnDragContainerDirective<T> implements OnInit {\n\n  @Input() get columnReorder(): boolean { return this._columnReorder; };\n  set columnReorder(value: boolean) {\n    this._columnReorder = coerceBooleanProperty(value);\n    this.sortingDisabled = !this._columnReorder;\n  }\n\n  /**\n   * When true, will not move the column on drop.\n   * Instead you need to handle the dropped event.\n   */\n  @Input() get manualOverride(): boolean { return this._manualOverride; };\n  set manualOverride(value: boolean) { this._manualOverride = coerceBooleanProperty(value); }\n\n  private _columnReorder = false;\n  private _manualOverride = false;\n\n  canDrag(column: COLUMN): boolean {\n    return (this._columnReorder && (column as PblColumn).reorder) || super.canDrag(column);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.dropped.subscribe( e => this._pblReset() );\n    this.pblDropListRef.beforeExit.subscribe( e => this._pblReset() );\n  }\n\n  protected gridChanged() {\n    super.gridChanged();\n    this.dropped.subscribe( (event: CdkDragDrop<T, any>) => {\n      if (!this.manualOverride && this._columnReorder) {\n        this.grid.columnApi.moveColumn((event.item as PblNgridColumnDragDirective<T>).column, event.currentIndex);\n      }\n    });\n  }\n\n  private _pblReset(): void {\n    this.dragging.next(false);\n    const siblings: PblDragRef<PblNgridColumnDragDirective<T>>[] = this.getSortedItems().map( c => c._dragRef) as any;\n    siblings.forEach((sibling, index) => {\n      for (const c of sibling.data.getCells()) {\n        c.style.transform = ``;\n      }\n    });\n  }\n\n  static ngAcceptInputType_columnReorder: BooleanInput;\n  static ngAcceptInputType_manualOverride: BooleanInput;\n\n}\n","\n/**\n * Code from angular/material2 repository\n * File: https://github.com/angular/material2/blob/master/src/cdk/drag-drop/drag-styling.ts\n * Commit: https://github.com/angular/material2/blob/9cd3132607b4d5ae242291df41fb02dc7a453da8/src/cdk/drag-drop/drag-styling.ts\n *\n * This code is not public but required for the drag so duplicated here.\n **/\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\n// Helper type that ignores `readonly` properties. This is used in\n// `extendStyles` to ignore the readonly properties on CSSStyleDeclaration\n// since we won't be touching those anyway.\ntype Writeable<T> = { -readonly [P in keyof T]-?: T[P] };\n\n/**\n * Extended CSSStyleDeclaration that includes a couple of drag-related\n * properties that aren't in the built-in TS typings.\n */\nexport interface DragCSSStyleDeclaration extends CSSStyleDeclaration {\n  webkitUserDrag: string;\n  MozUserSelect: string; // For some reason the Firefox property is in PascalCase.\n  msScrollSnapType: string;\n  scrollSnapType: string;\n  msUserSelect: string;\n}\n\n/**\n * Shallow-extends a stylesheet object with another stylesheet object.\n * @docs-private\n */\nexport function extendStyles(dest: Writeable<CSSStyleDeclaration>, source: Partial<DragCSSStyleDeclaration>) {\n  for (let key in source) {\n    if (source.hasOwnProperty(key)) {\n      dest[key] = source[key];\n    }\n  }\n  return dest;\n}\n\n\n/**\n * Toggles whether the native drag interactions should be enabled for an element.\n * @param element Element on which to toggle the drag interactions.\n * @param enable Whether the drag interactions should be enabled.\n * @docs-private\n */\nexport function toggleNativeDragInteractions(element: HTMLElement, enable: boolean) {\n  const userSelect = enable ? '' : 'none';\n\n  extendStyles(element.style, {\n    touchAction: enable ? '' : 'none',\n    webkitUserDrag: enable ? '' : 'none',\n    webkitTapHighlightColor: enable ? '' : 'transparent',\n    userSelect: userSelect,\n    msUserSelect: userSelect,\n    webkitUserSelect: userSelect,\n    MozUserSelect: userSelect\n  });\n}\n","import { animationFrameScheduler, Subscription } from 'rxjs';\nimport { auditTime, take } from 'rxjs/operators';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  HostListener,\n  Inject,\n  Input,\n  Optional,\n  OnDestroy,\n  NgZone,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { ViewportRuler } from '@angular/cdk/scrolling';\nimport { normalizePassiveListenerOptions } from '@angular/cdk/platform';\nimport { DragDropConfig, DragDropRegistry, CDK_DRAG_CONFIG } from '@angular/cdk/drag-drop';\n\nimport { PblNgridComponent, PblColumn, PblNgridMetaCellContext, isPblColumn, PblNgridPluginController, PblNgridExtensionApi } from '@pebula/ngrid';\nimport { toggleNativeDragInteractions } from './cdk-encapsulated-code';\n\ndeclare module '@pebula/ngrid/lib/ext/types' {\n  interface PblNgridPluginExtension {\n    columnResize?: PblNgridDragResizeComponent;\n  }\n}\n\nexport const COL_RESIZE_PLUGIN_KEY: 'columnResize' = 'columnResize';\n\n/** Options that can be used to bind a passive event listener. */\nconst passiveEventListenerOptions = normalizePassiveListenerOptions({passive: true});\n\n/** Options that can be used to bind an active event listener. */\nconst activeEventListenerOptions = normalizePassiveListenerOptions({passive: false});\n\n@Component({\n  selector: 'pbl-ngrid-drag-resize', // tslint:disable-line:component-selector\n  host: { // tslint:disable-line:use-host-property-decorator\n    'class': 'pbl-ngrid-column-resizer',\n    '[style.width.px]': 'grabAreaWidth',\n  },\n  templateUrl: './column-resize.component.html',\n  styleUrls: [ './column-resize.component.scss' ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class PblNgridDragResizeComponent implements AfterViewInit, OnDestroy {\n\n  // tslint:disable-next-line:no-input-rename\n  @Input() set context(value: PblNgridMetaCellContext<any>) {\n    if (value) {\n      const { col, grid } = value;\n      if (isPblColumn(col)) {\n        this.column = col;\n        this.grid = grid;\n        this._extApi = PblNgridPluginController.find(grid).extApi;\n        return;\n      }\n    }\n    this.column = this._extApi = this.grid = undefined;\n  }\n\n  /**\n   * The area (in pixels) in which the handle can be grabbed and resize the cell.\n   * Default: 6\n   */\n  @Input() grabAreaWidth = 6;\n\n  column: PblColumn;\n  grid: PblNgridComponent<any>;\n\n  _hasStartedDragging: boolean;\n  private _hasMoved: boolean;\n  private _rootElement: HTMLElement;\n  private _pointerMoveSubscription = Subscription.EMPTY;\n  private _pointerUpSubscription = Subscription.EMPTY;\n  private _scrollPosition: {top: number, left: number};\n  private _pickupPositionOnPage: Point;\n  private _initialWidth: number;\n  private _lastWidth: number;\n  private _extApi: PblNgridExtensionApi;\n  private _rootElementInitSubscription = Subscription.EMPTY;\n\n  constructor(public element: ElementRef<HTMLElement>,\n              private _ngZone: NgZone,\n              private _viewportRuler: ViewportRuler,\n              private _dragDropRegistry: DragDropRegistry<PblNgridDragResizeComponent, any>,\n              @Optional() @Inject(CDK_DRAG_CONFIG) private _config: DragDropConfig) {\n    this._config = {\n      dragStartThreshold: _config && _config.dragStartThreshold != null ? _config.dragStartThreshold : 5,\n      pointerDirectionChangeThreshold: _config && _config.pointerDirectionChangeThreshold != null ? _config.pointerDirectionChangeThreshold : 5,\n      zIndex: _config?.zIndex\n    };\n    _dragDropRegistry.registerDragItem(this);\n  }\n\n  ngAfterViewInit(): void {\n    // We need to wait for the zone to stabilize, in order for the reference\n    // element to be in the proper place in the DOM. This is mostly relevant\n    // for draggable elements inside portals since they get stamped out in\n    // their original DOM position and then they get transferred to the portal.\n    this._rootElementInitSubscription = this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(() => {\n      const rootElement = this._rootElement = this._getRootElement();\n      const cell = rootElement.parentElement;\n      cell.classList.add('pbl-ngrid-column-resize');\n      rootElement.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\n      rootElement.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\n      toggleNativeDragInteractions(rootElement , false);\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this._rootElement) {\n      this._rootElement.removeEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\n      this._rootElement.removeEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\n    }\n    this._rootElementInitSubscription.unsubscribe();\n    this._dragDropRegistry.removeDragItem(this);\n    this._removeSubscriptions();\n  }\n\n  @HostListener('dblclick', ['$event'])\n  onDoubleClick(event: MouseEvent): void {\n    this.grid.columnApi.autoSizeColumn(this.column);\n  }\n\n  _pointerDown = (event: MouseEvent | TouchEvent) => {\n    this._initializeDragSequence(this._rootElement, event);\n  }\n\n    /**\n   * Sets up the different variables and subscriptions\n   * that will be necessary for the dragging sequence.\n   * @param referenceElement Element that started the drag sequence.\n   * @param event Browser event object that started the sequence.\n   */\n  private _initializeDragSequence(referenceElement: HTMLElement, event: MouseEvent | TouchEvent) {\n    // Always stop propagation for the event that initializes\n    // the dragging sequence, in order to prevent it from potentially\n    // starting another sequence for a draggable parent somewhere up the DOM tree.\n    event.stopPropagation();\n\n    // Abort if the user is already dragging or is using a mouse button other than the primary one.\n    if (this.isDragging() || (!this._isTouchEvent(event) && event.button !== 0)) {\n      return;\n    }\n\n    this._hasStartedDragging = this._hasMoved = false;\n    this._pointerMoveSubscription = this._dragDropRegistry.pointerMove\n      .pipe(auditTime(0, animationFrameScheduler))\n      .subscribe(this._pointerMove);\n    this._pointerUpSubscription = this._dragDropRegistry.pointerUp.subscribe(this._pointerUp);\n    this._scrollPosition = this._viewportRuler.getViewportScrollPosition();\n\n    this._pickupPositionOnPage = this._getPointerPositionOnPage(event);\n    this._dragDropRegistry.startDragging(this, event);\n  }\n\n  /** Handler that is invoked when the user moves their pointer after they've initiated a drag. */\n  private _pointerMove = (event: MouseEvent | TouchEvent) => {\n    const pointerPosition = this._getPointerPositionOnPage(event);\n    const distanceX = pointerPosition.x - this._pickupPositionOnPage.x;\n    const distanceY = pointerPosition.y - this._pickupPositionOnPage.y;\n\n    if (!this._hasStartedDragging) {\n      // Only start dragging after the user has moved more than the minimum distance in either\n      // direction. Note that this is preferable over doing something like `skip(minimumDistance)`\n      // in the `pointerMove` subscription, because we're not guaranteed to have one move event\n      // per pixel of movement (e.g. if the user moves their pointer quickly).\n      if (Math.abs(distanceX) + Math.abs(distanceY) >= this._config.dragStartThreshold) {\n        this._hasStartedDragging = true;\n\n        // It will be a good thing if we turned of the header's resize observer to boost performance\n        // However, because we relay on the total grid minimum width updates to relatively even out the columns it will not work.\n        // Group cells will not cover all of the children, when we enlarge the width of a child in the group.\n        // This is because the max-width of the group is set proportional to the total min-width of the inner grid.\n        // For it to work we need to directly update the width of ALL OF THE GROUPS.\n        // this.column.columnDef.isDragging = true;\n\n        this.column.sizeInfo.updateSize();\n        this._lastWidth = this._initialWidth = this.column.columnDef.netWidth;\n      }\n      return;\n    }\n\n    this._hasMoved = true;\n    event.preventDefault();\n    event.stopPropagation();\n\n    const dir = this._extApi.getDirection() === 'rtl' ? -1 : 1;\n    let newWidth = Math.max(0, this._initialWidth + (distanceX * dir));\n\n    if (newWidth > this.column.maxWidth) {\n      newWidth = this.column.maxWidth;\n    } else if (distanceX < 0 && newWidth < this.column.minWidth) {\n      newWidth = this.column.minWidth;\n    }\n\n    if (this._lastWidth !== newWidth) {\n      this._lastWidth = newWidth;\n      this.column.updateWidth(`${newWidth}px`);\n      this._extApi.widthCalc.resetColumnsWidth();\n      // `this.column.updateWidth` will update the grid width cell only, which will trigger a resize that will update all other cells\n      // `this.grid.resetColumnsWidth()` will re-adjust all other grid width cells, and if their size changes they will trigger the resize event...\n    }\n  }\n\n  /** Handler that is invoked when the user lifts their pointer up, after initiating a drag. */\n  private _pointerUp = () => {\n    if (!this.isDragging()) {\n      return;\n    }\n\n    this._removeSubscriptions();\n    this._dragDropRegistry.stopDragging(this);\n\n    if (!this._hasStartedDragging) {\n      return;\n    }\n\n    // this.column.columnDef.isDragging = false;\n    this.grid.columnApi.resizeColumn(this.column, this._lastWidth + 'px');\n  }\n\n  private _getPointerPositionOnPage(event: MouseEvent | TouchEvent): Point {\n    const point = this._isTouchEvent(event) ? event.touches[0] : event;\n\n    return {\n      x: point.pageX - this._scrollPosition.left,\n      y: point.pageY - this._scrollPosition.top\n    };\n  }\n\n  private _isTouchEvent(event: MouseEvent | TouchEvent): event is TouchEvent {\n    return event.type.startsWith('touch');\n  }\n\n  /**\n   *\n   * @deprecated Will be removed in v5, use `isDragging()` instead\n   */\n  _isDragging() {\n    return this.isDragging()\n  }\n\n  isDragging() {\n    return this._dragDropRegistry.isDragging(this);\n  }\n\n  private _getRootElement(): HTMLElement {\n    return this.element.nativeElement;\n  }\n  private _removeSubscriptions() {\n    this._pointerMoveSubscription.unsubscribe();\n    this._pointerUpSubscription.unsubscribe();\n  }\n}\n\ninterface Point {\n  x: number;\n  y: number;\n}\n","<ng-content></ng-content>\n","import { PblColumn, PblColumnGroup } from '@pebula/ngrid';\n\ndeclare module '@pebula/ngrid/lib/grid/column/model/column' {\n  interface PblColumn {\n\n    reorder: boolean;\n    /**\n     * When true, the item can be reordered based on the `reorder` property but\n     * will not move (budge) when other items are reordered.\n     */\n    wontBudge: boolean;\n\n    /**\n     * Checks if the by switching between this column and the provided column the `lockColumns` constraint is triggered.\n     * The lockColumns constraint is set on a group and restrict splitting of groups.\n     * A Column with a locked group will not be allowed to leave the group nor new items are allowed that split the group.\n     *\n     * The process will check both scenarios.\n     */\n    checkGroupLockConstraint(column: PblColumn): boolean;\n  }\n}\n\ndeclare module '@pebula/ngrid/lib/grid/column/model/group-column' {\n  interface PblColumnGroup {\n    /**\n     * Lock column in the group, preventing the group from splitting.\n     * Splitting is block actively (column from the group dragged outside) and passively (column outside of the group dragging into the group).\n     */\n    lockColumns?: boolean;\n  }\n}\n\ndeclare module '@pebula/ngrid/core/lib/models/column' {\n  interface PblColumnDefinition {\n    reorder?: boolean;\n    /**\n     * When true, the item can be reordered based on the `reorder` property but\n     * will not move (budge) when other items are reordered.\n     */\n    wontBudge?: boolean;\n  }\n  interface PblColumnGroupDefinition {\n    /**\n     * Lock column in the group, preventing the group from splitting.\n     * Splitting is block actively (column from the group dragged outside) and passively (column outside of the group dragging into the group).\n     */\n    lockColumns?: boolean;\n  }\n}\n\nfunction checkGroupLockConstraint(this: PblColumn, column: PblColumn): boolean {\n  for (const id of this.groups) {\n    const g = this.groupStore.find(id);\n    if (g && g.lockColumns && !column.isInGroup(g)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function colReorderExtendGrid(): void {\n  PblColumn.extendProperty('reorder');\n  PblColumn.extendProperty('wontBudge');\n  PblColumnGroup.extendProperty('lockColumns');\n\n  PblColumn.prototype.checkGroupLockConstraint = function (this: PblColumn, column: PblColumn): boolean {\n    return checkGroupLockConstraint.call(this, column) && checkGroupLockConstraint.call(column, this);\n  };\n}\n\n","// tslint:disable:no-output-rename\nimport { Directive, OnInit } from '@angular/core';\nimport { DragDrop, CDK_DROP_LIST, CDK_DROP_LIST_GROUP } from '@angular/cdk/drag-drop';\n\nimport { PblColumn } from '@pebula/ngrid';\nimport { CdkLazyDropList, PblDragRef, PblDragDrop } from '../core/index';\nimport { PblNgridColumnReorderPluginDirective } from './column-reorder-plugin';\nimport { PblNgridColumnDragDirective } from './column-drag';\n\nlet _uniqueIdCounter = 0;\n\n@Directive({\n  selector: '[pblAggregationContainer]',\n  exportAs: 'pblAggregationContainer',\n  host: { // tslint:disable-line:no-host-metadata-property\n    'class': 'cdk-drop-list',\n    '[id]': 'id',\n  },\n  providers: [\n    { provide: DragDrop, useExisting: PblDragDrop },\n    { provide: CDK_DROP_LIST_GROUP, useValue: undefined },\n    { provide: CDK_DROP_LIST, useExisting: PblNgridAggregationContainerDirective },\n  ],\n})\nexport class PblNgridAggregationContainerDirective<T = any> extends CdkLazyDropList<T> implements OnInit {\n  id = `pbl-ngrid-column-aggregation-container-${_uniqueIdCounter++}`;\n  orientation: 'horizontal' | 'vertical' = 'horizontal';\n\n  pending: PblColumn;\n\n  columnContainer: PblNgridColumnReorderPluginDirective;\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.pblDropListRef.dropped\n      .subscribe( event => {\n        const item = event.item as PblDragRef<PblNgridColumnDragDirective<any>>;\n        this.pending = undefined;\n        this.grid.columnApi.addGroupBy(item.data.column);\n      });\n\n    this.pblDropListRef.entered\n      .subscribe( event => {\n        const item = event.item as PblDragRef<PblNgridColumnDragDirective<any>>;\n        this.pending = item.data.column;\n        item.getPlaceholderElement().style.display = 'none';\n        for (const c of item.data.getCells()) {\n          c.style.display = 'none';\n        }\n      });\n\n    this.pblDropListRef.exited\n      .subscribe( event => {\n        const item = event.item as PblDragRef<PblNgridColumnDragDirective<any>>;\n        this.pending = undefined;\n        item.getPlaceholderElement().style.display = '';\n        for (const c of item.data.getCells()) {\n          c.style.display = '';\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    this.columnContainer.disconnectFrom(this);\n  }\n\n  protected gridChanged() {\n    this.columnContainer = this.gridApi.pluginCtrl.getPlugin('columnReorder');\n    this.columnContainer.connectTo(this);\n  }\n}\n","import { Directive, TemplateRef } from '@angular/core';\nimport {\n  PblNgridRegistryService,\n  PblNgridMultiTemplateRegistry,\n  PblNgridDataHeaderExtensionRef,\n  PblNgridDataHeaderExtensionContext,\n  PblNgridPluginController\n} from '@pebula/ngrid';\n\nimport { COL_DRAG_CONTAINER_PLUGIN_KEY } from './column-drag-container';\n\n/**\n * Marks the element as the resizer template for cells.\n */\n@Directive({ selector: '[pblNgridCellDraggerRef]' })\nexport class PblNgridCellDraggerRefDirective extends PblNgridMultiTemplateRegistry<PblNgridDataHeaderExtensionContext, 'dataHeaderExtensions'> implements PblNgridDataHeaderExtensionRef {\n  readonly name: 'cellDragger' = 'cellDragger';\n  readonly kind: 'dataHeaderExtensions' = 'dataHeaderExtensions';\n  constructor(tRef: TemplateRef<PblNgridDataHeaderExtensionContext>, registry: PblNgridRegistryService) { super(tRef, registry); }\n\n  shouldRender(context: PblNgridDataHeaderExtensionContext): boolean {\n    // We dont check for `context.col.reorder` because even if a specific column does not \"reorder\" we still need to render the cdk-drag\n    // so the cdk-drop-list will be aware of this item, so if another item does reorder it will be able to move while taking this element into consideration.\n    // I.E: It doesn't reorder but it's part of the playground.\n    //\n    // However, when the plugin does not exists for this table we don't need to render...\n\n    const pluginCtrl = PblNgridPluginController.find(context.grid);\n    return pluginCtrl.hasPlugin(COL_DRAG_CONTAINER_PLUGIN_KEY);\n  }\n}\n","import { Directive, TemplateRef } from '@angular/core';\nimport { PblNgridRegistryService, PblNgridMultiTemplateRegistry, PblNgridDataHeaderExtensionRef, PblNgridDataHeaderExtensionContext } from '@pebula/ngrid';\n\n/**\n * Marks the element as the resizer template for cells.\n */\n@Directive({ selector: '[pblNgridCellResizerRef]' })\nexport class PblNgridCellResizerRefDirective extends PblNgridMultiTemplateRegistry<PblNgridDataHeaderExtensionContext, 'dataHeaderExtensions'> implements PblNgridDataHeaderExtensionRef {\n  readonly name: 'cellResizer' = 'cellResizer';\n  readonly kind: 'dataHeaderExtensions' = 'dataHeaderExtensions';\n\n  constructor(tRef: TemplateRef<PblNgridDataHeaderExtensionContext>, registry: PblNgridRegistryService) { super(tRef, registry); }\n\n  shouldRender(context: PblNgridDataHeaderExtensionContext): boolean {\n    return !!context.col.resize;\n  }\n}\n","import { PblColumn } from '@pebula/ngrid';\n\ndeclare module '@pebula/ngrid/lib/grid/column/model/column' {\n  interface PblColumn {\n    resize: boolean;\n  }\n}\n\n\ndeclare module '@pebula/ngrid/core/lib/models/column' {\n  interface PblColumnDefinition {\n    resize?: boolean;\n  }\n}\n\nexport function colResizeExtendGrid(): void {\n  PblColumn.extendProperty('resize');\n}\n","import { Component, ChangeDetectionStrategy, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'pbl-drag-plugin-default-templates',\n  template:\n`<pbl-ngrid-drag-resize *pblNgridCellResizerRef=\"let ctx\" [context]=\"ctx\"></pbl-ngrid-drag-resize>\n<span *pblNgridCellDraggerRef=\"let ctx\" [pblNgridColumnDrag]=\"ctx.col\" cdkDragRootElementClass=\"cdk-drag\"></span>`,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class DragPluginDefaultTemplatesComponent {}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\n\nimport { PblNgridModule, provideCommon, ngridPlugin } from '@pebula/ngrid';\n\nimport './drag-and-drop/column/extend-grid'; // to make sure d.ts stay in published lib and so agumentation kicks in\nimport { colReorderExtendGrid } from './drag-and-drop/column/extend-grid'\nimport { PblNgridAggregationContainerDirective } from './drag-and-drop/column/aggregation-column'\nimport { PblNgridCellDraggerRefDirective } from './drag-and-drop/column/cell-dragger-ref'\nimport { PblNgridColumnDragDirective } from './drag-and-drop/column/column-drag'\nimport { PblNgridColumnDropContainerDirective } from './drag-and-drop/column/column-drop-container'\nimport { PblNgridColumnDragContainerDirective, COL_DRAG_CONTAINER_PLUGIN_KEY } from './drag-and-drop/column/column-drag-container'\nimport { PblNgridColumnReorderPluginDirective, COL_REORDER_PLUGIN_KEY } from './drag-and-drop/column/column-reorder-plugin'\n\nimport { CdkLazyDropList } from './drag-and-drop/core/drop-list';\nimport { CdkLazyDrag } from './drag-and-drop/core/drag';\nimport { PblDragHandle } from './drag-and-drop/core/drag-handle';\n\nimport { PblNgridRowReorderPluginDirective, ROW_REORDER_PLUGIN_KEY } from './drag-and-drop/row/row-reorder-plugin';\nimport { PblNgridRowDragDirective } from './drag-and-drop/row/row-drag';\n\nimport { PblNgridDragResizeComponent, COL_RESIZE_PLUGIN_KEY } from './column-resize/column-resize.component';\nimport { PblNgridCellResizerRefDirective } from './column-resize/cell-resizer-ref';\nimport './column-resize/extend-grid'; // to make sure d.ts stay in published lib and so agumentation kicks in\nimport { colResizeExtendGrid } from './column-resize/extend-grid';\n\n\nimport { DragPluginDefaultTemplatesComponent } from './default-settings.component';\n\nexport function ngridPlugins() {\n  return [\n    ngridPlugin({ id: ROW_REORDER_PLUGIN_KEY }, PblNgridRowReorderPluginDirective),\n    ngridPlugin({ id: COL_DRAG_CONTAINER_PLUGIN_KEY }, PblNgridColumnDragContainerDirective),\n    ngridPlugin({ id: COL_REORDER_PLUGIN_KEY, runOnce: colReorderExtendGrid }, PblNgridColumnReorderPluginDirective),\n    ngridPlugin({ id: COL_RESIZE_PLUGIN_KEY, runOnce: colResizeExtendGrid }, PblNgridDragResizeComponent),\n  ]\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    PblNgridModule,\n    DragDropModule\n  ],\n  declarations: [\n    DragPluginDefaultTemplatesComponent,\n    CdkLazyDropList, CdkLazyDrag, PblDragHandle,\n    PblNgridRowReorderPluginDirective, PblNgridRowDragDirective,\n    PblNgridColumnDragContainerDirective,\n    PblNgridColumnDropContainerDirective, PblNgridColumnReorderPluginDirective, PblNgridColumnDragDirective, PblNgridCellDraggerRefDirective,\n    PblNgridAggregationContainerDirective,\n    PblNgridDragResizeComponent, PblNgridCellResizerRefDirective,\n  ],\n  exports: [\n    DragDropModule,\n    CdkLazyDropList, CdkLazyDrag, PblDragHandle,\n    PblNgridRowReorderPluginDirective, PblNgridRowDragDirective,\n    PblNgridColumnDragContainerDirective,\n    PblNgridColumnDropContainerDirective, PblNgridColumnReorderPluginDirective, PblNgridColumnDragDirective, PblNgridCellDraggerRefDirective,\n    PblNgridAggregationContainerDirective,\n    PblNgridDragResizeComponent, PblNgridCellResizerRefDirective,\n  ],\n  // TODO(REFACTOR_REF 2): remove when ViewEngine is no longer supported by angular (V12 ???)\n  entryComponents: [ DragPluginDefaultTemplatesComponent ]\n})\nexport class PblNgridDragModule {\n\n  static readonly NGRID_PLUGIN = ngridPlugins();\n\n  static withDefaultTemplates(): ModuleWithProviders<PblNgridDragModule> {\n    return {\n      ngModule: PblNgridDragModule,\n      providers: provideCommon( [ { component: DragPluginDefaultTemplatesComponent } ]),\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["Subject","coerceElement","DropListRef","EventEmitter","DragRef","DOCUMENT","Injectable","Inject","ElementRef","PblNgridPluginController","CdkDropList","CDK_DROP_LIST_GROUP","CDK_DRAG_CONFIG","DragDrop","CDK_DROP_LIST","Directive","Optional","SkipSelf","Input","take","CdkDrag","CdkDragHandle","CDK_DRAG_PARENT","CDK_DRAG_HANDLE","takeUntil","patchDropListRef","_uniqueIdCounter","coerceBooleanProperty","CdkDropListGroup","BehaviorSubject","Output","unrx","normalizePassiveListenerOptions","Subscription","isPblColumn","auditTime","animationFrameScheduler","Component","ChangeDetectionStrategy","ViewEncapsulation","HostListener","PblColumn","PblColumnGroup","PblNgridMultiTemplateRegistry","ngridPlugin","provideCommon","CommonModule","PblNgridModule","DragDropModule","NgModule"],"mappings":"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"}