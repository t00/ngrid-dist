{"version":3,"file":"pebula-ngrid-detail-row.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/ngrid/detail-row/src/lib/detail-row/tokens.ts","../../../../libs/ngrid/detail-row/src/lib/detail-row/row.ts","../../../../libs/ngrid/detail-row/src/lib/detail-row/directives.ts","../../../../libs/ngrid/detail-row/src/lib/detail-row/detail-row-controller.ts","../../../../libs/ngrid/detail-row/src/lib/detail-row/detail-row-plugin.ts","../../../../libs/ngrid/detail-row/src/lib/table-detail-row.module.ts","../../../../libs/ngrid/detail-row/src/pebula-ngrid-detail-row.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export interface PblDetailsRowToggleEvent<T = any> {\n  row: T;\n  expended: boolean;\n  toggle(): void;\n}\n\nexport const PLUGIN_KEY: 'detailRow' = 'detailRow';\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  OnInit,\n  OnDestroy,\n  ViewEncapsulation,\n  ViewContainerRef,\n  ViewChild,\n} from '@angular/core';\nimport { ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { CdkRow } from '@angular/cdk/table';\n\nimport { unrx } from '@pebula/ngrid/core';\nimport { PblNgridRowComponent } from '@pebula/ngrid';\nimport { PblDetailsRowToggleEvent, PLUGIN_KEY } from './tokens';\nimport { DetailRowController } from './detail-row-controller';\n\ndeclare module '@pebula/ngrid/lib/grid/context/types' {\n  interface ExternalRowContextState {\n    detailRow: boolean;\n  }\n}\n\nexport const PBL_NGRID_ROW_TEMPLATE = '<ng-content select=\".pbl-ngrid-row-prefix\"></ng-content><ng-container #viewRef></ng-container><ng-content select=\".pbl-ngrid-row-suffix\"></ng-content>';\n\n@Component({\n  selector: 'pbl-ngrid-row[detailRow]',\n  exportAs: 'pblNgridDetailRow',\n  host: { // tslint:disable-line:no-host-metadata-property\n    class: 'pbl-ngrid-row pbl-row-detail-parent',\n    role: 'row',\n    '[attr.tabindex]': 'grid.rowFocus',\n    '(keydown)': 'handleKeydown($event)'\n  },\n  template: PBL_NGRID_ROW_TEMPLATE,\n  styles: [ `.pbl-row-detail-parent { position: relative; cursor: pointer; }` ],\n  providers: [\n    { provide: CdkRow, useExisting: PblNgridDetailRowComponent }\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class PblNgridDetailRowComponent extends PblNgridRowComponent implements OnInit, OnDestroy, PblDetailsRowToggleEvent {\n\n  get expended(): boolean {\n    return this.opened;\n  }\n\n  get height() {\n    return super.height + this.controller.getDetailRowHeight(this);\n  }\n\n  get row() { return this.context.$implicit; }\n\n  // We must explicitly define the inherited properties which have angular annotations\n  // Because angular will not detect them when building this library.\n  // TODO: When moving up to IVY see if this one get fixed\n  @ViewChild('viewRef', { read: ViewContainerRef, static: true }) _viewRef: ViewContainerRef;\n\n  private opened = false;\n  private plugin: import('./detail-row-plugin').PblNgridDetailRowPluginDirective<any>;\n  private controller: DetailRowController;\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.plugin.addDetailRow(this);\n    const tradeEvents = this._extApi.pluginCtrl.getPlugin('targetEvents');\n\n    tradeEvents.cellClick\n      .pipe(unrx(this))\n      .subscribe( event => {\n        if (event.type === 'data' && event.row === this.context.$implicit) {\n          const { excludeToggleFrom } = this.plugin;\n          if (!excludeToggleFrom || !excludeToggleFrom.some( c => event.column.id === c )) {\n            this.toggle();\n          }\n        }\n      });\n\n    tradeEvents.rowClick\n      .pipe(unrx(this))\n      .subscribe( event => {\n        if (!event.root && event.type === 'data' && event.row === this.context.$implicit) {\n          this.toggle();\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    unrx.kill(this);\n    this.plugin.removeDetailRow(this);\n    this.controller.clearDetailRow(this, true);\n    super.ngOnDestroy();\n  }\n\n  updateRow() {\n    if (super.updateRow()) { // only if row has changed (TODO: use identity based change detection?)\n      switch (this.plugin.whenContextChange) {\n        case 'context':\n          const isContextOpened = !!this.context.getExternal('detailRow');\n          isContextOpened && this.opened\n            ? this.controller.updateDetailRow(this) // if already opened, just update the context\n            : this.toggle(isContextOpened, true) // if not opened, force to the context state\n          ;\n          break;\n        case 'render':\n          if (this.opened) {\n            this.controller.updateDetailRow(this);\n          }\n          break;\n        case 'close':\n          this.toggle(false, true);\n          break;\n      }\n      this.plugin.markForCheck();\n      this.controller.detectChanges(this);\n      this.plugin.toggledRowContextChange.next(this);\n      return true;\n    }\n    return false;\n  }\n\n  toggle(forceState?: boolean, fromRender = false): void {\n    if (this.opened !== forceState) {\n      let opened = false;\n      if (this.opened) {\n        this.controller.clearDetailRow(this, fromRender);\n        this.element.classList.remove('pbl-row-detail-opened');\n      } else if (this.controller.render(this, fromRender)) {\n        opened = true;\n        this.element.classList.add('pbl-row-detail-opened');\n      }\n\n      if (this.opened !== opened) {\n        this.opened = opened;\n        this.context.setExternal('detailRow', opened, true);\n        this.plugin.detailRowToggled(this);\n      }\n    }\n  }\n\n  /**\n   * @internal\n   */\n  handleKeydown(event: KeyboardEvent): void {\n    if ( event.target === this.element ) {\n      const keyCode = event.keyCode;\n      const isToggleKey = keyCode === ENTER || keyCode === SPACE;\n      if ( isToggleKey ) {\n        event.preventDefault(); // prevents the page from scrolling down when pressing space\n        this.toggle();\n      }\n    }\n  }\n\n  protected onCtor() {\n    super.onCtor();\n    this.plugin = this._extApi.pluginCtrl.getPlugin(PLUGIN_KEY); // TODO: THROW IF NO PLUGIN...\n    this.controller = this.plugin.detailRowCtrl;\n  }\n}\n","// tslint:disable:use-host-property-decorator\nimport {\n  Component,\n  Directive,\n  OnInit,\n  OnDestroy,\n  TemplateRef,\n  Input,\n} from '@angular/core';\n\nimport { PblNgridRegistryService, PblNgridSingleTemplateRegistry, PblNgridRowContext, PblNgridRowDef } from '@pebula/ngrid';\n\ndeclare module '@pebula/ngrid/core/lib/registry/types' {\n  interface PblNgridSingleRegistryMap {\n    detailRowParent?: PblNgridDetailRowParentRefDirective<any>;\n    detailRow?: PblNgridDetailRowDefDirective;\n  }\n}\n\nexport interface PblNgridDetailRowContext<T = any> {\n  $implicit: T;\n  rowContext: PblNgridRowContext<T>;\n  animation: {\n    /**\n     * When true, indicates that the toggle (open/close) trigger of the detail row was from a rendering operation and not a user interaction.\n     * For example, scrolling out of view or changing the row's context due to virtual scroll updates.\n     *\n     * This flag is here to note that allowing you to customize behavior, especially when using animation.\n     * You should disable animations (angular & CSS) when the toggle came from a rendering operation and not from user click to prevent\n     * flickering and strange behaviors with virtual scrolling.\n     *\n     * When using angular animation, you can use the `[@.disable]` binding to make sure no animations run (`[@.disable]=\"animation.fromRender\"`)\n     * or when using CSS animation, use a class to disable the animations.\n     *\n     * > If you're not using the dynamic virtual scroll or your animation is not changing the height, you can ignore this value.\n     */\n    fromRender: boolean;\n\n    /**\n     * Invoke this function to notify the grid that an animation operation has ended.\n     * This is required when `hasAnimation` is turned on on the structural directive `pblNgridDetailRowDef`.\n     * If hasAnimation is enabled and this function is not called the grid will not be able to measure the new height\n     * of the detail row effecting virtual scroll calculations.\n     *\n     * You should call via angular`s animation events `(@.myTrigger.done)=\"animation.end()\"` or if using CSS animations via `(animationend)=\"animation.end()\"`\n     *\n     * > If you're not using the dynamic virtual scroll or your animation is not changing the height, you can ignore this value.\n     */\n    end: () => void;\n  }\n}\n\n/**\n * Marks the element as the display element for the detail row itself.\n */\n@Directive({ selector: '[pblNgridDetailRowDef]' })\nexport class PblNgridDetailRowDefDirective extends PblNgridSingleTemplateRegistry<PblNgridDetailRowContext, 'detailRow'> {\n  readonly kind: 'detailRow' = 'detailRow';\n\n  /**\n   * Define the height measure strategy to use when the detail row is opened or closed.\n   *\n   * When we toggle the detail row we need to update the height so we can notify the dynamic virtual scroll to take this into account.\n   * If we have a toggle animation, the height must be measured at the end of the animation otherwise we can measure it once the element is created.\n   *\n   * By not setting value (the default) or setting false, the measurement will take place immediately.\n   * If we want to support animations we can apply 1 of 2 strategies:\n   *\n   * - `interaction` - If the toggle origin is from a user interaction (e.g. click) or a programmatic API then it WILL NOT\n   *                   measure the height until `animation.end()` is called on the detail row context.\n   *                   Otherwise, it will measure it immediately.\n   *                   A Non-Interaction origin can happen from scrolling out of view or changing the row's context due to virtual scroll updates.\n   *                   See `fromRender` on the context for more details.\n   *                   I.E: When `fromRender` is true, the grid will measure the height immediately, otherwise it will wait for you to call `animation.end()`\n   *\n   * - `always` - Will always assume animation is running when toggling the detail row and WILL NOT measure the height\n   *              until `animation.end()` is called on the detail row context.\n   *\n   * If you are using animation, we strongly suggest to use `interaction` mode!\n   *\n   * > If you're not using the dynamic virtual scroll or your animation is not changing the height, you can ignore this value.\n   */\n  // tslint:disable-next-line: no-input-rename\n  @Input('pblNgridDetailRowDefHasAnimation') hasAnimation: 'always' | 'interaction' | false | undefined;\n\n  constructor(tRef: TemplateRef<PblNgridDetailRowContext>, registry: PblNgridRegistryService) { super(tRef, registry); }\n\n}\n\n@Directive({\n  selector: '[pblNgridDetailRowParentRef]',\n  inputs: ['columns: pblNgridDetailRowParentRef', 'when: pblNgridDetailRowParentRefWhen'],\n})\nexport class PblNgridDetailRowParentRefDirective<T> extends PblNgridRowDef<T> implements OnInit, OnDestroy {\n\n  ngOnInit(): void {\n    this.registry.setSingle('detailRowParent', this as any);\n  }\n\n  ngOnDestroy(): void {\n    if (this.registry.getSingle('detailRowParent') === this) {\n      this.registry.setSingle('detailRowParent',  undefined);\n    }\n  }\n}\n","import { EmbeddedViewRef, ViewContainerRef } from '@angular/core';\nimport { PblNgridExtensionApi } from '@pebula/ngrid';\nimport { PblNgridDetailRowContext, PblNgridDetailRowDefDirective } from './directives';\nimport { PblNgridDetailRowComponent } from './row';\n\nconst NOOP = () => {};\n\ninterface DetailRowViewState {\n  viewRef: EmbeddedViewRef<PblNgridDetailRowContext>\n}\n\ninterface PendingOperation {\n  type: 'render' | 'clear';\n  fromRender: boolean;\n}\n\n/**\n * In charge of handling the lifecycle of detail row instances.\n * The whole lifecycle: Create, update, move, destroy, etc...\n *\n * This controller also sync's the rendering process to make sure we reuse detail rom elements within\n * a single rendering cycle (i.e. not long term caching but a short term one).\n * This is done for performance and to prevent flickering when a row is moved into a different element due to virtual scroll.\n * When this happen we just want to move all dom elements properly, swap the context and trigger change detection.\n * If we have left over rows to render we create new elements or if we have left over rows to clear, we remove them.\n * The logic for this relay on the fact that the row's context.$implicit is updated in a sync iteration by the cdk table\n * and afterwards we will have the onRenderRows event fired, allowing us to sync changes.\n * We also relay on the fact that the event run immediately after the iterations and everything is sync.\n *\n * > In the future, this is where we can support detail row caching\n */\nexport class DetailRowController {\n\n  private viewMap = new Map<PblNgridDetailRowComponent, DetailRowViewState>();\n  private pendingOps = new Map<PblNgridDetailRowComponent, PendingOperation>();\n  private deferOps = false;\n  private detailRowDef: PblNgridDetailRowDefDirective;\n\n  private runMeasure = () => this.extApi.grid.viewport.reMeasureCurrentRenderedContent();\n\n  constructor(private readonly vcRef: ViewContainerRef,\n              private readonly extApi: PblNgridExtensionApi) {\n    extApi.onInit(() => {\n      this.detailRowDef = extApi.grid.registry.getSingle('detailRow');\n      extApi.cdkTable.beforeRenderRows.subscribe(() => this.deferOps = true );\n      extApi.cdkTable.onRenderRows.subscribe(() => this.flushPendingOps());\n    });\n\n    extApi.grid.registry.changes\n      .subscribe( changes => {\n        for (const c of changes) {\n          switch (c.type) {\n            case 'detailRow':\n              if (c.op === 'remove') {\n                this.detailRowDef = undefined;\n              } else {\n                this.detailRowDef = c.value;\n              }\n              break;\n          }\n        }\n      });\n  }\n\n  render(parent: PblNgridDetailRowComponent, fromRender: boolean): boolean {\n    if (this.viewMap.has(parent)) {\n      this.pendingOps.delete(parent); // if clear, then render we don't want to clear it later\n      this.updateDetailRow(parent);\n      return true;\n    } else if (!this.deferOps) {\n      return this._render(parent, fromRender);\n    } else if (parent.context.$implicit && this.detailRowDef) {\n      this.pendingOps.set(parent, { type: 'render', fromRender });\n      return true;\n    }\n    return false;\n  }\n\n  clearDetailRow(parent: PblNgridDetailRowComponent, fromRender: boolean) {\n    const state = this.viewMap.get(parent);\n    if (state) {\n      if (this.deferOps) {\n        this.pendingOps.set(parent, { type: 'clear', fromRender });\n      } else {\n        this._clearDetailRow(parent, fromRender);\n      }\n    }\n  }\n\n  updateDetailRow(parent: PblNgridDetailRowComponent) {\n    const state = this.viewMap.get(parent);\n    if (state) {\n      Object.assign(state.viewRef.context, this.createDetailRowContext(parent, true));\n      state.viewRef.detectChanges();\n    }\n  }\n\n  getDetailRowHeight(parent: PblNgridDetailRowComponent) {\n    let total = 0;\n    const state = this.viewMap.get(parent);\n    if (state) {\n      for (const e of state.viewRef.rootNodes) {\n        total += e.getBoundingClientRect().height;\n      }\n    }\n    return total;\n  }\n\n  detectChanges(parent: PblNgridDetailRowComponent) {\n    const state = this.viewMap.get(parent);\n    if (state) {\n      state.viewRef.detectChanges();\n    }\n  }\n\n  private createDetailRowContext(parent: PblNgridDetailRowComponent, fromRender: boolean): PblNgridDetailRowContext {\n    return {\n      $implicit: parent.context.$implicit,\n      rowContext: parent.context,\n      animation: { fromRender, end: () => this.checkHasAnimation(fromRender) ? this.runMeasure() : undefined, },\n    }\n  }\n\n  private flushPendingOps() {\n    if (this.deferOps) {\n      this.deferOps = false;\n\n      const toRender: Array<[PblNgridDetailRowComponent, PendingOperation]> = [];\n      const toClear: Array<[PblNgridDetailRowComponent, PendingOperation]> = [];\n      for (const entry of this.pendingOps.entries()) {\n        const col = entry[1].type === 'clear' ? toClear : toRender;\n        col.push(entry);\n      }\n      this.pendingOps.clear();\n\n      for (const [parent, op] of toRender) {\n        if (this.viewMap.has(parent)) {\n          if (typeof ngDevMode === 'undefined' || ngDevMode) {\n            throw new Error('Invalid detail row state.');\n          }\n          return;\n        }\n        if (toClear.length) {\n          const [clearParent] = toClear.pop();\n\n          this.viewMap.set(parent, this.viewMap.get(clearParent));\n          this.viewMap.delete(clearParent);\n          this.insertElementsToRow(parent); // don't detect changes, we'll do it in updateDetailRow\n          this.updateDetailRow(parent);\n\n          // notify about size changes\n          if (!this.checkHasAnimation(op.fromRender)) {\n            this.runMeasure();\n          }\n        } else {\n          // when no more cleared left for reuse\n          this._render(parent, op.fromRender);\n        }\n      }\n\n      // remove cleared we can't reuse\n      for (const [parent, op] of toClear) {\n        this._clearDetailRow(parent, op.fromRender);\n      }\n    }\n  }\n\n  private _render(parent: PblNgridDetailRowComponent, fromRender: boolean): boolean {\n    if (parent.context.$implicit && this.detailRowDef) {\n      const context = this.createDetailRowContext(parent, fromRender);\n\n      this.viewMap.set(parent, { viewRef: this.vcRef.createEmbeddedView(this.detailRowDef.tRef, context) })\n      this.insertElementsToRow(parent, true);\n\n      // notify about size changes\n      if (!this.checkHasAnimation(fromRender)) {\n        this.runMeasure();\n      }\n      return true;\n    }\n    return false;\n  }\n\n  private _clearDetailRow(parent: PblNgridDetailRowComponent, fromRender: boolean) {\n    const state = this.viewMap.get(parent);\n    if (state) {\n      const { viewRef } = state;\n\n      if (viewRef.context.animation.fromRender !== fromRender) {\n        viewRef.context.animation.fromRender = fromRender;\n        viewRef.detectChanges();\n      }\n\n      viewRef.destroy();\n\n      if (!this.checkHasAnimation(fromRender)) {\n        this.runMeasure();\n      }\n\n      this.viewMap.delete(parent);\n    }\n  }\n\n  private insertElementsToRow(parent: PblNgridDetailRowComponent, detectChanges?: boolean) {\n    const { viewRef } = this.viewMap.get(parent);\n    const beforeNode = parent.element.nextSibling;\n    for (const e of viewRef.rootNodes) {\n      parent.element.parentElement.insertBefore(e, beforeNode);\n    }\n    if (detectChanges) {\n      viewRef.detectChanges();\n    }\n  }\n\n  private checkHasAnimation(fromRender: boolean) {\n    return this.detailRowDef.hasAnimation === 'always' || (this.detailRowDef.hasAnimation === 'interaction' && !fromRender);\n  }\n}\n","import { Directive, EventEmitter, Injector, Input, OnDestroy, Output, ComponentFactoryResolver, ComponentRef, NgZone, ViewContainerRef, Component } from '@angular/core';\nimport { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { PblNgridComponent, PblNgridPluginController } from '@pebula/ngrid';\n\nimport { PblDetailsRowToggleEvent, PLUGIN_KEY } from './tokens';\nimport { PblNgridDetailRowComponent } from './row';\nimport { PblNgridDetailRowParentRefDirective } from './directives';\nimport { DetailRowController } from './detail-row-controller';\n\ndeclare module '@pebula/ngrid/lib/ext/types' {\n  interface PblNgridPluginExtension {\n    detailRow?: PblNgridDetailRowPluginDirective<any>;\n  }\n}\n\nexport const ROW_WHEN_TRUE = () => true;\nexport const ROW_WHEN_FALSE = () => false;\n\nexport function toggleDetailRow<T = any>(grid: PblNgridComponent<T>, row: T, forceState?: boolean): boolean | void {\n  const controller = PblNgridPluginController.find(grid);\n  if (controller) {\n    const plugin = controller.getPlugin(PLUGIN_KEY);\n    if (plugin) {\n      return plugin.toggleDetailRow(row, forceState);\n    }\n  }\n}\n\n@Directive({ selector: 'pbl-ngrid[detailRow]', exportAs: 'pblNgridDetailRow' })\nexport class PblNgridDetailRowPluginDirective<T> implements OnDestroy {\n  /**\n   * Detail row control (none / all rows / selective rows)\n   *\n   * A detail row is an additional row added below a row rendered with the context of the row above it.\n   *\n   * You can enable/disable detail row for the entire grid by setting `detailRow` to true/false respectively.\n   * To control detail row per row, provide a predicate.\n   */\n  @Input() get detailRow(): ( (index: number, rowData: T) => boolean ) | boolean { return this._detailRow; }\n  set detailRow(value: ( (index: number, rowData: T) => boolean ) | boolean ) {\n    if (this._detailRow !== value) {\n      const grid = this.grid;\n\n      if (typeof value === 'function') {\n        this._isSimpleRow = (index: number, rowData: T) => !(value as any)(index, rowData);\n        this._isDetailRow = value;\n      } else {\n        value = coerceBooleanProperty(value);\n        this._isDetailRow = value ? ROW_WHEN_TRUE : ROW_WHEN_FALSE;\n        this._isSimpleRow = value ? ROW_WHEN_FALSE : ROW_WHEN_TRUE;\n      }\n      this._detailRow = value;\n\n      if (grid.isInit) {\n        this.updateTable();\n      }\n    }\n  }\n\n  @Input() set singleDetailRow(value: boolean) {\n    value = coerceBooleanProperty(value);\n    if (this._forceSingle !== value) {\n      this._forceSingle = value;\n      if (value && this._openedRow && this._openedRow.expended) {\n        for (const detailRow of this._detailRowRows) {\n          if (detailRow.context.$implicit !== this._openedRow.row) {\n            detailRow.toggle(false);\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * A list of columns that will not trigger a detail row toggle when clicked.\n   */\n  @Input() excludeToggleFrom: string[];\n\n  /**\n   * Set the behavior when the row's context is changed while the detail row is opened  (another row is displayed in place of the current row) or closed.\n   *\n   * - context: use the context to determine if to open or close the detail row\n   * - ignore: don't do anything, leave as is (for manual intervention)\n   * - close: close the detail row\n   * - render: re-render the row with the new context\n   *\n   * The default behavior is `context`\n   *\n   * This scenario will pop-up when using pagination and the user move between pages or change the page size.\n   * It might also happen when the data is updated due to custom refresh calls on the datasource or any other scenario that might invoke a datasource update.\n   *\n   * The `ignore` phase, when used, will not trigger an update, leaving the detail row opened and showing data from the previous row.\n   * The `ignore` is intended for use with `toggledRowContextChange`, which will emit when the row context has changed, this will allow the developer to\n   * toggle the row (mimic `close`) or update the context manually. For example, if toggling open the detail row invokes a \"fetch\" operation that retrieves data for the detail row\n   * this will allow updates on context change.\n   *\n   * Usually, what you will want is \"context\" (the default) which will remember the last state of the row and open it based on it.\n   *\n   * > Note that for \"context\" to work you need to use a datasource in client side mode and it must have a primary/identity column (pIndex) or it will not be able to identify the rows.\n   *\n   * > Note that `toggledRowContextChange` fires regardless of the value set in `whenContextChange`\n   */\n  @Input() whenContextChange: 'ignore' | 'close' | 'render' | 'context' = 'context';\n\n  /**\n   * Emits whenever a detail row instance is toggled on/off\n   * Emits an event handler with the row, the toggle state and a toggle operation method.\n   */\n  @Output() toggleChange = new EventEmitter<PblDetailsRowToggleEvent<T>>();\n  /**\n   * Emits whenever the row context has changed while the row is toggled open.\n   * This scenario is unique and will occur only when a detail row is opened AND the parent row has changed.\n   *\n   * For example, when using pagination and the user navigates to the next/previous set or when the rows per page size is changed.\n   * It might also occur when the data is updated due to custom refresh calls on the datasource or any other scenario that might invoke a datasource update.\n   *\n   * Emits an event handler with the row, the toggle state and a toggle operation method.\n   */\n  @Output() toggledRowContextChange = new EventEmitter<PblDetailsRowToggleEvent<T>>();\n\n  public readonly detailRowCtrl: DetailRowController;\n\n  private _openedRow?: PblDetailsRowToggleEvent<T>;\n  private _forceSingle: boolean;\n  private _isSimpleRow: (index: number, rowData: T) => boolean = ROW_WHEN_TRUE;\n  private _isDetailRow: (index: number, rowData: T) => boolean = ROW_WHEN_FALSE;\n  private _detailRowRows = new Set<PblNgridDetailRowComponent>();\n  private _detailRow: ( (index: number, rowData: T) => boolean ) | boolean;\n  private _detailRowDef: PblNgridDetailRowParentRefDirective<T>;\n  private _defaultParentRef: ComponentRef<PblNgridDefaultDetailRowParentComponent>;\n  private _removePlugin: (grid: PblNgridComponent<any>) => void;\n  private _cdPending: boolean;\n  private readonly grid: PblNgridComponent<any>;\n\n  constructor(vcRef: ViewContainerRef,\n              private readonly pluginCtrl: PblNgridPluginController<T>,\n              private readonly ngZone: NgZone,\n              private readonly injector: Injector) {\n    this._removePlugin = pluginCtrl.setPlugin(PLUGIN_KEY, this);\n    this.grid = pluginCtrl.extApi.grid;\n    this.detailRowCtrl = new DetailRowController(vcRef, pluginCtrl.extApi);\n\n    pluginCtrl.onInit()\n      .subscribe(() => {\n        pluginCtrl.ensurePlugin('targetEvents'); // Depends on target-events plugin\n\n        this.grid.registry.changes\n          .subscribe( changes => {\n            for (const c of changes) {\n              switch (c.type) {\n                case 'detailRowParent':\n                  if (c.op === 'remove') {\n                    this.pluginCtrl.extApi.cdkTable.removeRowDef(c.value);\n                    this._detailRowDef = undefined;\n                  }\n                  this.setupDetailRowParent();\n                  break;\n              }\n            }\n          });\n\n        // if we start with an initial value, then update the grid cause we didn't do that\n        // when it was set (we cant cause we're not init)\n        // otherwise just setup the parent.\n        if (this._detailRow) {\n          this.updateTable();\n        } else {\n          this.setupDetailRowParent();\n        }\n      });\n  }\n\n  addDetailRow(detailRow: PblNgridDetailRowComponent): void {\n    this._detailRowRows.add(detailRow);\n  }\n\n  removeDetailRow(detailRow: PblNgridDetailRowComponent): void {\n    this._detailRowRows.delete(detailRow);\n  }\n\n  toggleDetailRow(row: any, forceState?: boolean): boolean | void {\n    for (const detailRow of this._detailRowRows) {\n      if (detailRow.context.$implicit === row) {\n        detailRow.toggle(forceState);\n        return detailRow.expended;\n      }\n    }\n  }\n\n  markForCheck() {\n    if (!this._cdPending) {\n      this._cdPending = true;\n      this.ngZone.runOutsideAngular(() => Promise.resolve()\n        .then(() => {\n          this.ngZone.run(() => {\n            this._cdPending = false;\n            this._defaultParentRef?.changeDetectorRef.markForCheck();\n          });\n        }));\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this._defaultParentRef) {\n      this._defaultParentRef.destroy();\n    }\n    this._removePlugin(this.grid);\n  }\n\n  /** @internal */\n  detailRowToggled(event: PblDetailsRowToggleEvent<T>): void {\n    // logic for closing previous row\n    const isSelf = this._openedRow && this._openedRow.row === event.row;\n    if (event.expended) {\n      if (this._forceSingle && this._openedRow && this._openedRow.expended && !isSelf) {\n        this._openedRow.toggle();\n      }\n      this._openedRow = event;\n    } else if (isSelf) {\n      this._openedRow = undefined;\n    }\n    this.toggleChange.emit(event);\n  }\n\n  private setupDetailRowParent(): void {\n    const grid = this.grid;\n    const cdkTable = this.pluginCtrl.extApi.cdkTable;\n    if (this._detailRowDef) {\n      cdkTable.removeRowDef(this._detailRowDef);\n      this._detailRowDef = undefined;\n    }\n    if (this.detailRow) {\n      let detailRow = this.pluginCtrl.extApi.registry.getSingle('detailRowParent');\n      if (detailRow) {\n        this._detailRowDef = detailRow = detailRow.clone();\n        Object.defineProperty(detailRow, 'when', { enumerable: true,  get: () => this._isDetailRow });\n      } else if (!this._defaultParentRef) {\n        // We don't have a template in the registry, so we register the default component which will push a new template to the registry\n        // TODO: move to module? set in root registry? put elsewhere to avoid grid sync (see event of registry change)...\n        this._defaultParentRef = this.injector.get(ComponentFactoryResolver)\n          .resolveComponentFactory(PblNgridDefaultDetailRowParentComponent)\n          .create(this.injector);\n        this._defaultParentRef.changeDetectorRef.detectChanges(); // kick it for immediate emission of the registry value\n        return;\n      }\n    }\n    this.resetTableRowDefs();\n  }\n\n  private resetTableRowDefs(): void {\n    if (this._detailRowDef) {\n      this._detailRow === false\n        ? this.pluginCtrl.extApi.cdkTable.removeRowDef(this._detailRowDef)\n        : this.pluginCtrl.extApi.cdkTable.addRowDef(this._detailRowDef)\n      ;\n    }\n  }\n\n  /**\n   * Update the grid with detail row info.\n   * Instead of calling for a change detection cycle we can assign the new predicates directly to the pblNgridRowDef instances.\n   */\n  private updateTable(): void {\n    this.grid._tableRowDef.when = this._isSimpleRow;\n    this.setupDetailRowParent();\n    // Once we changed the `when` predicate on the `CdkRowDef` we must:\n    //   1. Update the row cache (property `rowDefs`) to reflect the new change\n    this.pluginCtrl.extApi.cdkTable.updateRowDefCache();\n\n    //   2. re-render all rows.\n    // The logic for re-rendering all rows is handled in `CdkTable._forceRenderDataRows()` which is a private method.\n    // This is a workaround, assigning to `multiTemplateDataRows` will invoke the setter which\n    // also calls `CdkTable._forceRenderDataRows()`\n    // TODO: This is risky, the setter logic might change.\n    // for example, if material will chack for change in `multiTemplateDataRows` setter from previous value...\n    this.pluginCtrl.extApi.cdkTable.multiTemplateDataRows = !!this._detailRow;\n  }\n\n  static ngAcceptInputType_detailRow: BooleanInput | ( (index: number, rowData: any) => boolean );\n}\n\n/**\n * Use to set the a default `pblNgridDetailRowParentRef` if the user did not set one.\n * @internal\n */\n @Component({\n  selector: 'pbl-ngrid-default-detail-row-parent',\n  template: `<pbl-ngrid-row *pblNgridDetailRowParentRef=\"let row;\" detailRow></pbl-ngrid-row>`,\n})\nexport class PblNgridDefaultDetailRowParentComponent { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { PblNgridModule, ngridPlugin } from '@pebula/ngrid';\nimport { PblNgridTargetEventsModule } from '@pebula/ngrid/target-events';\n\nimport { PLUGIN_KEY } from './detail-row/tokens';\nimport { PblNgridDetailRowParentRefDirective, PblNgridDetailRowDefDirective } from './detail-row/directives';\nimport { PblNgridDetailRowPluginDirective, PblNgridDefaultDetailRowParentComponent } from './detail-row/detail-row-plugin';\nimport { PblNgridDetailRowComponent } from './detail-row/row';\n\nconst DETAIL_ROW = [\n  PblNgridDetailRowPluginDirective,\n  PblNgridDetailRowComponent,\n  PblNgridDetailRowParentRefDirective,\n  PblNgridDetailRowDefDirective,\n];\n\n@NgModule({\n  imports: [ CommonModule, CdkTableModule, PblNgridModule, PblNgridTargetEventsModule ],\n  declarations: [ DETAIL_ROW, PblNgridDefaultDetailRowParentComponent ],\n  exports: [ DETAIL_ROW ],\n  // TODO(REFACTOR_REF 2): remove when ViewEngine is no longer supported by angular (V12 ???)\n  entryComponents: [ PblNgridDetailRowComponent, PblNgridDefaultDetailRowParentComponent ],\n})\nexport class PblNgridDetailRowModule {\n  static readonly NGRID_PLUGIN = ngridPlugin({ id: PLUGIN_KEY }, PblNgridDetailRowPluginDirective);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["unrx","ENTER","SPACE","PblNgridRowComponent","CdkRow","ViewContainerRef","Component","ChangeDetectionStrategy","ViewEncapsulation","ViewChild","PblNgridSingleTemplateRegistry","Directive","Input","PblNgridRowDef","PblNgridPluginController","EventEmitter","coerceBooleanProperty","ComponentFactoryResolver","Output","ngridPlugin","CommonModule","CdkTableModule","PblNgridModule","PblNgridTargetEventsModule","NgModule"],"mappings":"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"}