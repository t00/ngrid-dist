!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/cdk/overlay"),require("@angular/material/tooltip"),require("@pebula/ngrid"),require("@pebula/ngrid/target-events"),require("@angular/cdk/coercion"),require("@angular/cdk/a11y"),require("@angular/cdk/bidi"),require("@angular/cdk/scrolling"),require("@angular/cdk/platform"),require("@pebula/utils")):"function"==typeof define&&define.amd?define("@pebula/ngrid-material/cell-tooltip",["exports","@angular/core","@angular/common","@angular/cdk/overlay","@angular/material/tooltip","@pebula/ngrid","@pebula/ngrid/target-events","@angular/cdk/coercion","@angular/cdk/a11y","@angular/cdk/bidi","@angular/cdk/scrolling","@angular/cdk/platform","@pebula/utils"],t):t(((e=e||self).pebula=e.pebula||{},e.pebula["ngrid-material"]=e.pebula["ngrid-material"]||{},e.pebula["ngrid-material"]["cell-tooltip"]={}),e.ng.core,e.ng.common,e.ng.cdk.overlay,e.ng.material.tooltip,e.pebula.ngrid,e.pebula.ngrid["target-events"],e.ng.cdk.coercion,e.ng.cdk.a11y,e.ng.cdk.bidi,e.ng.cdk.scrolling,e.ng.cdk.platform,e.pebula.utils)}(this,(function(e,t,i,o,r,n,l,a,c,s,u,p,g){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var o,r,n=i.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)l.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}return l}var h="cellTooltip",y={canShow:function(e){var t=e.cellTarget.firstElementChild||e.cellTarget;return t.scrollWidth>t.offsetWidth},message:function(e){return e.cellTarget.innerText}};var b=function(){function e(e,i,l){var a=this;this.table=e,this.injector=i,this._removePlugin=l.setPlugin(h,this);var d=i.get(n.PblNgridConfigService);if(this.initArgs=[i.get(o.Overlay),null,i.get(u.ScrollDispatcher),i.get(t.ViewContainerRef),i.get(t.NgZone),i.get(p.Platform),i.get(c.AriaDescriber),i.get(c.FocusMonitor),i.get(r.MAT_TOOLTIP_SCROLL_STRATEGY),i.get(s.Directionality),i.get(r.MAT_TOOLTIP_DEFAULT_OPTIONS)],d.onUpdate("cellTooltip").pipe(g.UnRx(this)).subscribe((function(e){return a.lastConfig=e.curr})),e.isInit)this.init(l);else var f=l.events.subscribe((function(e){"onInit"===e.kind&&(a.init(l),f.unsubscribe(),f=void 0)}))}var i;return i=e,Object.defineProperty(e.prototype,"canShow",{set:function(e){this._canShow="function"==typeof e?e:""===e?void 0:a.coerceBooleanProperty(e)?function(e){return!0}:function(e){return!1}},enumerable:!0,configurable:!0}),e.create=function(e,t){return new i(e,t,n.PblNgridPluginController.find(e))},e.prototype.ngOnDestroy=function(){this._removePlugin(this.table),this.killTooltip()},e.prototype.init=function(e){var t=this,i=e.getPlugin("targetEvents")||e.createPlugin("targetEvents");i.cellEnter.pipe(g.UnRx(this)).subscribe((function(e){return t.cellEnter(e)})),i.cellLeave.pipe(g.UnRx(this)).subscribe((function(e){return t.cellLeave(e)}))},e.prototype.cellEnter=function(e){if(this.killTooltip(),this._canShow||(this.canShow=this.lastConfig&&this.lastConfig.canShow||y.canShow),this._canShow(e)){var i=this.initArgs.slice();i[1]=new t.ElementRef(e.cellTarget),this.toolTip=new(r.MatTooltip.bind.apply(r.MatTooltip,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}([void 0],i)));var o=this.message||this.lastConfig&&this.lastConfig.message||y.message;this.toolTip.message=o(e),this.position&&(this.toolTip.position=this.position),this.tooltipClass&&(this.toolTip.tooltipClass=this.tooltipClass),this.showDelay>=0&&(this.toolTip.showDelay=this.showDelay),this.hideDelay>=0&&(this.toolTip.hideDelay=this.hideDelay),this.toolTip.show()}},e.prototype.cellLeave=function(e){this.killTooltip()},e.prototype.killTooltip=function(){this.toolTip&&(this.toolTip.hide(),this.toolTip.ngOnDestroy(),this.toolTip=void 0)},e.PLUGIN_KEY=h,e.ctorParameters=function(){return[{type:n.PblNgridComponent},{type:t.Injector},{type:n.PblNgridPluginController}]},e.decorators=[{type:t.Directive,args:[{selector:"[cellTooltip]",exportAs:"pblOverflowTooltip"}]}],e.ctorParameters=function(){return[{type:n.PblNgridComponent},{type:t.Injector},{type:n.PblNgridPluginController}]},e.propDecorators={canShow:[{type:t.Input,args:["cellTooltip"]}],message:[{type:t.Input}],position:[{type:t.Input}],tooltipClass:[{type:t.Input}],showDelay:[{type:t.Input}],hideDelay:[{type:t.Input}]},e=i=function(e,t,i,o){var r,n=arguments.length,l=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(l=(n<3?r(l):n>3?r(t,i,l):r(t,i))||l);return n>3&&l&&Object.defineProperty(t,i,l),l}([n.NgridPlugin({id:h,factory:"create"}),g.UnRx(),d("design:paramtypes",[n.PblNgridComponent,t.Injector,n.PblNgridPluginController])],e)}();var v=function(){function e(e,t){e||n.PblNgridPluginController.created.subscribe((function(e){var i=t.get(b.PLUGIN_KEY);if(i&&!0===i.autoSetAll)var o=e.controller,r=o.events.subscribe((function(e){"onInit"===e.kind&&(o.hasPlugin(b.PLUGIN_KEY)||o.createPlugin(b.PLUGIN_KEY),r.unsubscribe(),r=void 0)}))}))}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule,r.MatTooltipModule,o.OverlayModule,n.PblNgridModule,l.PblNgridTargetEventsModule],declarations:[b],exports:[b,r.MatTooltipModule]}]}],e.ctorParameters=function(){return[{type:e,decorators:[{type:t.Optional},{type:t.SkipSelf}]},{type:n.PblNgridConfigService}]},e}();e.PblNgridCellTooltipDirective=b,e.PblNgridCellTooltipModule=v,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pebula-ngrid-material-cell-tooltip.umd.min.js.map