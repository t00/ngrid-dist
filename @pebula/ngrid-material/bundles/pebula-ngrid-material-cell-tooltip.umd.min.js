!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/cdk/overlay"),require("@angular/material/tooltip"),require("@pebula/ngrid"),require("@pebula/ngrid/target-events"),require("@angular/cdk/coercion"),require("@angular/cdk/a11y"),require("@angular/cdk/bidi"),require("@angular/cdk/scrolling"),require("@angular/cdk/platform")):"function"==typeof define&&define.amd?define("@pebula/ngrid-material/cell-tooltip",["exports","@angular/core","@angular/common","@angular/cdk/overlay","@angular/material/tooltip","@pebula/ngrid","@pebula/ngrid/target-events","@angular/cdk/coercion","@angular/cdk/a11y","@angular/cdk/bidi","@angular/cdk/scrolling","@angular/cdk/platform"],e):e(((t=t||self).pebula=t.pebula||{},t.pebula["ngrid-material"]=t.pebula["ngrid-material"]||{},t.pebula["ngrid-material"]["cell-tooltip"]={}),t.ng.core,t.ng.common,t.ng.cdk.overlay,t.ng.material.tooltip,t.pebula.ngrid,t.pebula.ngrid["target-events"],t.ng.cdk.coercion,t.ng.cdk.a11y,t.ng.cdk.bidi,t.ng.cdk.scrolling,t.ng.cdk.platform)}(this,(function(t,e,i,o,r,l,n,a,s,u,c,p){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function g(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,r,l=i.call(t),n=[];try{for(;(void 0===e||e-- >0)&&!(o=l.next()).done;)n.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return n}var d={canShow:function(t){var e=t.cellTarget.firstElementChild||t.cellTarget;return e.scrollWidth>e.offsetWidth},message:function(t){return t.cellTarget.innerText}};var h=function(){function t(t,i,n){var a=this;this.table=t,this.injector=i,this._removePlugin=n.setPlugin("cellTooltip",this);var g=i.get(l.PblNgridConfigService);if(this.initArgs=[i.get(o.Overlay),null,i.get(c.ScrollDispatcher),i.get(e.ViewContainerRef),i.get(e.NgZone),i.get(p.Platform),i.get(s.AriaDescriber),i.get(s.FocusMonitor),i.get(r.MAT_TOOLTIP_SCROLL_STRATEGY),i.get(u.Directionality),i.get(r.MAT_TOOLTIP_DEFAULT_OPTIONS)],g.onUpdate("cellTooltip").pipe(l.utils.unrx(this)).subscribe((function(t){return a.lastConfig=t.curr})),t.isInit)this.init(n);else var d=n.events.subscribe((function(t){"onInit"===t.kind&&(a.init(n),d.unsubscribe(),d=void 0)}))}return Object.defineProperty(t.prototype,"canShow",{set:function(t){this._canShow="function"==typeof t?t:""===t?void 0:a.coerceBooleanProperty(t)?function(t){return!0}:function(t){return!1}},enumerable:!0,configurable:!0}),t.create=function(e,i){return new t(e,i,l.PblNgridPluginController.find(e))},t.prototype.ngOnDestroy=function(){this._removePlugin(this.table),this.killTooltip(),l.utils.unrx.kill(this)},t.prototype.init=function(t){var e=this,i=t.getPlugin("targetEvents")||t.createPlugin("targetEvents");i.cellEnter.pipe(l.utils.unrx(this)).subscribe((function(t){return e.cellEnter(t)})),i.cellLeave.pipe(l.utils.unrx(this)).subscribe((function(t){return e.cellLeave(t)}))},t.prototype.cellEnter=function(t){if(this.killTooltip(),this._canShow||(this.canShow=this.lastConfig&&this.lastConfig.canShow||d.canShow),this._canShow(t)){var i=this.initArgs.slice();i[1]=new e.ElementRef(t.cellTarget),this.toolTip=new(r.MatTooltip.bind.apply(r.MatTooltip,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}([void 0],i)));var o=this.message||this.lastConfig&&this.lastConfig.message||d.message;this.toolTip.message=o(t),this.position&&(this.toolTip.position=this.position),this.tooltipClass&&(this.toolTip.tooltipClass=this.tooltipClass),this.showDelay>=0&&(this.toolTip.showDelay=this.showDelay),this.hideDelay>=0&&(this.toolTip.hideDelay=this.hideDelay),this.toolTip.show()}},t.prototype.cellLeave=function(t){this.killTooltip()},t.prototype.killTooltip=function(){this.toolTip&&(this.toolTip.hide(),this.toolTip.ngOnDestroy(),this.toolTip=void 0)},t.PLUGIN_KEY="cellTooltip",t.decorators=[{type:e.Directive,args:[{selector:"[cellTooltip]",exportAs:"pblOverflowTooltip"}]}],t.ctorParameters=function(){return[{type:l.PblNgridComponent},{type:e.Injector},{type:l.PblNgridPluginController}]},t.propDecorators={canShow:[{type:e.Input,args:["cellTooltip"]}],message:[{type:e.Input}],position:[{type:e.Input}],tooltipClass:[{type:e.Input}],showDelay:[{type:e.Input}],hideDelay:[{type:e.Input}]},t}();var f=function(){function t(t,e){t||l.PblNgridPluginController.created.subscribe((function(t){var i=e.get(h.PLUGIN_KEY);if(i&&!0===i.autoSetAll)var o=t.controller,r=o.events.subscribe((function(t){"onInit"===t.kind&&(o.hasPlugin(h.PLUGIN_KEY)||o.createPlugin(h.PLUGIN_KEY),r.unsubscribe(),r=void 0)}))}))}return t.NGRID_PLUGIN=l.ngridPlugin({id:"cellTooltip",factory:"create"},h),t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule,r.MatTooltipModule,o.OverlayModule,l.PblNgridModule,n.PblNgridTargetEventsModule],declarations:[h],exports:[h,r.MatTooltipModule]}]}],t.ctorParameters=function(){return[{type:t,decorators:[{type:e.Optional},{type:e.SkipSelf}]},{type:l.PblNgridConfigService}]},t}();t.PblNgridCellTooltipDirective=h,t.PblNgridCellTooltipModule=f,t.Éµa="cellTooltip",Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=pebula-ngrid-material-cell-tooltip.umd.min.js.map